{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nrequire(\"core-js/modules/es.string.search.js\");\n\nrequire(\"core-js/modules/es.array.sort.js\");\n\nrequire(\"core-js/modules/es.array.find-index.js\");\n\nrequire(\"core-js/modules/es.array.splice.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _helpers = require(\"../../util/helpers\");\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar _default2 = _vue.default.extend({\n  name: 'v-data',\n  inheritAttrs: false,\n  props: {\n    items: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    options: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    sortBy: {\n      type: [String, Array]\n    },\n    sortDesc: {\n      type: [Boolean, Array]\n    },\n    customSort: {\n      type: Function,\n      default: _helpers.sortItems\n    },\n    mustSort: Boolean,\n    multiSort: Boolean,\n    page: {\n      type: Number,\n      default: 1\n    },\n    itemsPerPage: {\n      type: Number,\n      default: 10\n    },\n    groupBy: {\n      type: [String, Array],\n      default: function _default() {\n        return [];\n      }\n    },\n    groupDesc: {\n      type: [Boolean, Array],\n      default: function _default() {\n        return [];\n      }\n    },\n    customGroup: {\n      type: Function,\n      default: _helpers.groupItems\n    },\n    locale: {\n      type: String,\n      default: 'en-US'\n    },\n    disableSort: Boolean,\n    disablePagination: Boolean,\n    disableFiltering: Boolean,\n    search: String,\n    customFilter: {\n      type: Function,\n      default: _helpers.searchItems\n    },\n    serverItemsLength: {\n      type: Number,\n      default: -1\n    }\n  },\n  data: function data() {\n    var internalOptions = {\n      page: this.page,\n      itemsPerPage: this.itemsPerPage,\n      sortBy: (0, _helpers.wrapInArray)(this.sortBy),\n      sortDesc: (0, _helpers.wrapInArray)(this.sortDesc),\n      groupBy: (0, _helpers.wrapInArray)(this.groupBy),\n      groupDesc: (0, _helpers.wrapInArray)(this.groupDesc),\n      mustSort: this.mustSort,\n      multiSort: this.multiSort\n    };\n\n    if (this.options) {\n      internalOptions = Object.assign(internalOptions, this.options);\n    }\n\n    var _internalOptions = internalOptions,\n        sortBy = _internalOptions.sortBy,\n        sortDesc = _internalOptions.sortDesc,\n        groupBy = _internalOptions.groupBy,\n        groupDesc = _internalOptions.groupDesc;\n    var sortDiff = sortBy.length - sortDesc.length;\n    var groupDiff = groupBy.length - groupDesc.length;\n\n    if (sortDiff > 0) {\n      var _internalOptions$sort;\n\n      (_internalOptions$sort = internalOptions.sortDesc).push.apply(_internalOptions$sort, _toConsumableArray((0, _helpers.fillArray)(sortDiff, false)));\n    }\n\n    if (groupDiff > 0) {\n      var _internalOptions$grou;\n\n      (_internalOptions$grou = internalOptions.groupDesc).push.apply(_internalOptions$grou, _toConsumableArray((0, _helpers.fillArray)(groupDiff, false)));\n    }\n\n    return {\n      internalOptions: internalOptions\n    };\n  },\n  computed: {\n    itemsLength: function itemsLength() {\n      return this.serverItemsLength >= 0 ? this.serverItemsLength : this.filteredItems.length;\n    },\n    pageCount: function pageCount() {\n      return this.internalOptions.itemsPerPage <= 0 ? 1 : Math.ceil(this.itemsLength / this.internalOptions.itemsPerPage);\n    },\n    pageStart: function pageStart() {\n      if (this.internalOptions.itemsPerPage === -1 || !this.items.length) return 0;\n      return (this.internalOptions.page - 1) * this.internalOptions.itemsPerPage;\n    },\n    pageStop: function pageStop() {\n      if (this.internalOptions.itemsPerPage === -1) return this.itemsLength;\n      if (!this.items.length) return 0;\n      return Math.min(this.itemsLength, this.internalOptions.page * this.internalOptions.itemsPerPage);\n    },\n    isGrouped: function isGrouped() {\n      return !!this.internalOptions.groupBy.length;\n    },\n    pagination: function pagination() {\n      return {\n        page: this.internalOptions.page,\n        itemsPerPage: this.internalOptions.itemsPerPage,\n        pageStart: this.pageStart,\n        pageStop: this.pageStop,\n        pageCount: this.pageCount,\n        itemsLength: this.itemsLength\n      };\n    },\n    filteredItems: function filteredItems() {\n      var items = this.items.slice();\n\n      if (!this.disableFiltering && this.serverItemsLength <= 0) {\n        items = this.customFilter(items, this.search);\n      }\n\n      return items;\n    },\n    computedItems: function computedItems() {\n      var items = this.filteredItems.slice();\n\n      if ((!this.disableSort || this.internalOptions.groupBy.length) && this.serverItemsLength <= 0) {\n        items = this.sortItems(items);\n      }\n\n      if (!this.disablePagination && this.serverItemsLength <= 0) {\n        items = this.paginateItems(items);\n      }\n\n      return items;\n    },\n    groupedItems: function groupedItems() {\n      return this.isGrouped ? this.groupItems(this.computedItems) : null;\n    },\n    scopedProps: function scopedProps() {\n      return {\n        sort: this.sort,\n        sortArray: this.sortArray,\n        group: this.group,\n        items: this.computedItems,\n        options: this.internalOptions,\n        updateOptions: this.updateOptions,\n        pagination: this.pagination,\n        groupedItems: this.groupedItems,\n        originalItemsLength: this.items.length\n      };\n    },\n    computedOptions: function computedOptions() {\n      return _objectSpread({}, this.options);\n    }\n  },\n  watch: {\n    computedOptions: {\n      handler: function handler(options, old) {\n        if ((0, _helpers.deepEqual)(options, old)) return;\n        this.updateOptions(options);\n      },\n      deep: true,\n      immediate: true\n    },\n    internalOptions: {\n      handler: function handler(options, old) {\n        if ((0, _helpers.deepEqual)(options, old)) return;\n        this.$emit('update:options', options);\n      },\n      deep: true,\n      immediate: true\n    },\n    page: function page(_page) {\n      this.updateOptions({\n        page: _page\n      });\n    },\n    'internalOptions.page': function internalOptionsPage(page) {\n      this.$emit('update:page', page);\n    },\n    itemsPerPage: function itemsPerPage(_itemsPerPage) {\n      this.updateOptions({\n        itemsPerPage: _itemsPerPage\n      });\n    },\n    'internalOptions.itemsPerPage': function internalOptionsItemsPerPage(itemsPerPage) {\n      this.$emit('update:items-per-page', itemsPerPage);\n    },\n    sortBy: function sortBy(_sortBy) {\n      this.updateOptions({\n        sortBy: (0, _helpers.wrapInArray)(_sortBy)\n      });\n    },\n    'internalOptions.sortBy': function internalOptionsSortBy(sortBy, old) {\n      !(0, _helpers.deepEqual)(sortBy, old) && this.$emit('update:sort-by', Array.isArray(this.sortBy) ? sortBy : sortBy[0]);\n    },\n    sortDesc: function sortDesc(_sortDesc) {\n      this.updateOptions({\n        sortDesc: (0, _helpers.wrapInArray)(_sortDesc)\n      });\n    },\n    'internalOptions.sortDesc': function internalOptionsSortDesc(sortDesc, old) {\n      !(0, _helpers.deepEqual)(sortDesc, old) && this.$emit('update:sort-desc', Array.isArray(this.sortDesc) ? sortDesc : sortDesc[0]);\n    },\n    groupBy: function groupBy(_groupBy) {\n      this.updateOptions({\n        groupBy: (0, _helpers.wrapInArray)(_groupBy)\n      });\n    },\n    'internalOptions.groupBy': function internalOptionsGroupBy(groupBy, old) {\n      !(0, _helpers.deepEqual)(groupBy, old) && this.$emit('update:group-by', Array.isArray(this.groupBy) ? groupBy : groupBy[0]);\n    },\n    groupDesc: function groupDesc(_groupDesc) {\n      this.updateOptions({\n        groupDesc: (0, _helpers.wrapInArray)(_groupDesc)\n      });\n    },\n    'internalOptions.groupDesc': function internalOptionsGroupDesc(groupDesc, old) {\n      !(0, _helpers.deepEqual)(groupDesc, old) && this.$emit('update:group-desc', Array.isArray(this.groupDesc) ? groupDesc : groupDesc[0]);\n    },\n    multiSort: function multiSort(_multiSort) {\n      this.updateOptions({\n        multiSort: _multiSort\n      });\n    },\n    'internalOptions.multiSort': function internalOptionsMultiSort(multiSort) {\n      this.$emit('update:multi-sort', multiSort);\n    },\n    mustSort: function mustSort(_mustSort) {\n      this.updateOptions({\n        mustSort: _mustSort\n      });\n    },\n    'internalOptions.mustSort': function internalOptionsMustSort(mustSort) {\n      this.$emit('update:must-sort', mustSort);\n    },\n    pageCount: {\n      handler: function handler(pageCount) {\n        this.$emit('page-count', pageCount);\n      },\n      immediate: true\n    },\n    computedItems: {\n      handler: function handler(computedItems) {\n        this.$emit('current-items', computedItems);\n      },\n      immediate: true\n    },\n    pagination: {\n      handler: function handler(pagination, old) {\n        if ((0, _helpers.deepEqual)(pagination, old)) return;\n        this.$emit('pagination', this.pagination);\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    toggle: function toggle(key, oldBy, oldDesc, page, mustSort, multiSort) {\n      var by = oldBy.slice();\n      var desc = oldDesc.slice();\n      var byIndex = by.findIndex(function (k) {\n        return k === key;\n      });\n\n      if (byIndex < 0) {\n        if (!multiSort) {\n          by = [];\n          desc = [];\n        }\n\n        by.push(key);\n        desc.push(false);\n      } else if (byIndex >= 0 && !desc[byIndex]) {\n        desc[byIndex] = true;\n      } else if (!mustSort) {\n        by.splice(byIndex, 1);\n        desc.splice(byIndex, 1);\n      } else {\n        desc[byIndex] = false;\n      } // Reset page to 1 if sortBy or sortDesc have changed\n\n\n      if (!(0, _helpers.deepEqual)(by, oldBy) || !(0, _helpers.deepEqual)(desc, oldDesc)) {\n        page = 1;\n      }\n\n      return {\n        by: by,\n        desc: desc,\n        page: page\n      };\n    },\n    group: function group(key) {\n      var _this$toggle = this.toggle(key, this.internalOptions.groupBy, this.internalOptions.groupDesc, this.internalOptions.page, true, false),\n          groupBy = _this$toggle.by,\n          groupDesc = _this$toggle.desc,\n          page = _this$toggle.page;\n\n      this.updateOptions({\n        groupBy: groupBy,\n        groupDesc: groupDesc,\n        page: page\n      });\n    },\n    sort: function sort(key) {\n      if (Array.isArray(key)) return this.sortArray(key);\n\n      var _this$toggle2 = this.toggle(key, this.internalOptions.sortBy, this.internalOptions.sortDesc, this.internalOptions.page, this.internalOptions.mustSort, this.internalOptions.multiSort),\n          sortBy = _this$toggle2.by,\n          sortDesc = _this$toggle2.desc,\n          page = _this$toggle2.page;\n\n      this.updateOptions({\n        sortBy: sortBy,\n        sortDesc: sortDesc,\n        page: page\n      });\n    },\n    sortArray: function sortArray(sortBy) {\n      var _this = this;\n\n      var sortDesc = sortBy.map(function (s) {\n        var i = _this.internalOptions.sortBy.findIndex(function (k) {\n          return k === s;\n        });\n\n        return i > -1 ? _this.internalOptions.sortDesc[i] : false;\n      });\n      this.updateOptions({\n        sortBy: sortBy,\n        sortDesc: sortDesc\n      });\n    },\n    updateOptions: function updateOptions(options) {\n      this.internalOptions = _objectSpread(_objectSpread(_objectSpread({}, this.internalOptions), options), {}, {\n        page: this.serverItemsLength < 0 ? Math.max(1, Math.min(options.page || this.internalOptions.page, this.pageCount)) : options.page || this.internalOptions.page\n      });\n    },\n    sortItems: function sortItems(items) {\n      var sortBy = [];\n      var sortDesc = [];\n\n      if (!this.disableSort) {\n        sortBy = this.internalOptions.sortBy;\n        sortDesc = this.internalOptions.sortDesc;\n      }\n\n      if (this.internalOptions.groupBy.length) {\n        sortBy = [].concat(_toConsumableArray(this.internalOptions.groupBy), _toConsumableArray(sortBy));\n        sortDesc = [].concat(_toConsumableArray(this.internalOptions.groupDesc), _toConsumableArray(sortDesc));\n      }\n\n      return this.customSort(items, sortBy, sortDesc, this.locale);\n    },\n    groupItems: function groupItems(items) {\n      return this.customGroup(items, this.internalOptions.groupBy, this.internalOptions.groupDesc);\n    },\n    paginateItems: function paginateItems(items) {\n      // Make sure we don't try to display non-existant page if items suddenly change\n      // TODO: Could possibly move this to pageStart/pageStop?\n      if (this.serverItemsLength === -1 && items.length <= this.pageStart) {\n        this.internalOptions.page = Math.max(1, Math.ceil(items.length / this.internalOptions.itemsPerPage)) || 1; // Prevent NaN\n      }\n\n      return items.slice(this.pageStart, this.pageStop);\n    }\n  },\n  render: function render() {\n    return this.$scopedSlots.default && this.$scopedSlots.default(this.scopedProps);\n  }\n});\n\nexports.default = _default2;","map":{"version":3,"mappings":"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","names":["_vue","extend","name","inheritAttrs","props","items","type","Array","default","options","Object","sortBy","String","sortDesc","Boolean","customSort","Function","_helpers","mustSort","multiSort","page","Number","itemsPerPage","groupBy","groupDesc","customGroup","locale","disableSort","disablePagination","disableFiltering","search","customFilter","serverItemsLength","data","internalOptions","assign","sortDiff","length","groupDiff","push","computed","itemsLength","filteredItems","pageCount","Math","ceil","pageStart","pageStop","min","isGrouped","pagination","slice","computedItems","sortItems","paginateItems","groupedItems","groupItems","scopedProps","sort","sortArray","group","updateOptions","originalItemsLength","computedOptions","watch","handler","old","deep","immediate","$emit","_page","_itemsPerPage","_sortBy","isArray","_sortDesc","_groupBy","_groupDesc","_multiSort","_mustSort","methods","toggle","key","oldBy","oldDesc","by","desc","byIndex","findIndex","k","splice","map","i","_this","s","max","render","$scopedSlots"],"sourceRoot":"","sources":["../../../src/components/VData/VData.ts"],"sourcesContent":["// Helpers\nimport { wrapInArray, sortItems, deepEqual, groupItems, searchItems, fillArray } from '../../util/helpers'\nimport Vue, { VNode } from 'vue'\n\n// Types\nimport {\n  DataOptions,\n  DataPagination,\n  DataScopeProps,\n  DataSortFunction,\n  DataGroupFunction,\n  DataSearchFunction,\n  ItemGroup,\n} from 'vuetify/types'\nimport { PropValidator } from 'vue/types/options'\n\nexport default Vue.extend({\n  name: 'v-data',\n\n  inheritAttrs: false,\n\n  props: {\n    items: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    options: {\n      type: Object,\n      default: () => ({}),\n    } as PropValidator<Partial<DataOptions>>,\n    sortBy: {\n      type: [String, Array],\n    } as PropValidator<string | string[] | undefined>,\n    sortDesc: {\n      type: [Boolean, Array],\n    } as PropValidator<boolean | boolean[] | undefined>,\n    customSort: {\n      type: Function,\n      default: sortItems,\n    } as PropValidator<DataSortFunction>,\n    mustSort: Boolean,\n    multiSort: Boolean,\n    page: {\n      type: Number,\n      default: 1,\n    },\n    itemsPerPage: {\n      type: Number,\n      default: 10,\n    },\n    groupBy: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<string | string[]>,\n    groupDesc: {\n      type: [Boolean, Array],\n      default: () => [],\n    } as PropValidator<boolean | boolean[]>,\n    customGroup: {\n      type: Function,\n      default: groupItems,\n    } as PropValidator<DataGroupFunction>,\n    locale: {\n      type: String,\n      default: 'en-US',\n    },\n    disableSort: Boolean,\n    disablePagination: Boolean,\n    disableFiltering: Boolean,\n    search: String,\n    customFilter: {\n      type: Function,\n      default: searchItems,\n    } as PropValidator<DataSearchFunction>,\n    serverItemsLength: {\n      type: Number,\n      default: -1,\n    },\n  },\n\n  data () {\n    let internalOptions: DataOptions = {\n      page: this.page,\n      itemsPerPage: this.itemsPerPage,\n      sortBy: wrapInArray(this.sortBy),\n      sortDesc: wrapInArray(this.sortDesc),\n      groupBy: wrapInArray(this.groupBy),\n      groupDesc: wrapInArray(this.groupDesc),\n      mustSort: this.mustSort,\n      multiSort: this.multiSort,\n    }\n\n    if (this.options) {\n      internalOptions = Object.assign(internalOptions, this.options)\n    }\n\n    const { sortBy, sortDesc, groupBy, groupDesc } = internalOptions\n    const sortDiff = sortBy.length - sortDesc.length\n    const groupDiff = groupBy.length - groupDesc.length\n\n    if (sortDiff > 0) {\n      internalOptions.sortDesc.push(...fillArray(sortDiff, false))\n    }\n\n    if (groupDiff > 0) {\n      internalOptions.groupDesc.push(...fillArray(groupDiff, false))\n    }\n\n    return {\n      internalOptions,\n    }\n  },\n\n  computed: {\n    itemsLength (): number {\n      return this.serverItemsLength >= 0 ? this.serverItemsLength : this.filteredItems.length\n    },\n    pageCount (): number {\n      return this.internalOptions.itemsPerPage <= 0\n        ? 1\n        : Math.ceil(this.itemsLength / this.internalOptions.itemsPerPage)\n    },\n    pageStart (): number {\n      if (this.internalOptions.itemsPerPage === -1 || !this.items.length) return 0\n\n      return (this.internalOptions.page - 1) * this.internalOptions.itemsPerPage\n    },\n    pageStop (): number {\n      if (this.internalOptions.itemsPerPage === -1) return this.itemsLength\n      if (!this.items.length) return 0\n\n      return Math.min(this.itemsLength, this.internalOptions.page * this.internalOptions.itemsPerPage)\n    },\n    isGrouped (): boolean {\n      return !!this.internalOptions.groupBy.length\n    },\n    pagination (): DataPagination {\n      return {\n        page: this.internalOptions.page,\n        itemsPerPage: this.internalOptions.itemsPerPage,\n        pageStart: this.pageStart,\n        pageStop: this.pageStop,\n        pageCount: this.pageCount,\n        itemsLength: this.itemsLength,\n      }\n    },\n    filteredItems (): any[] {\n      let items = this.items.slice()\n\n      if (!this.disableFiltering && this.serverItemsLength <= 0) {\n        items = this.customFilter(items, this.search)\n      }\n\n      return items\n    },\n    computedItems (): any[] {\n      let items = this.filteredItems.slice()\n\n      if ((!this.disableSort || this.internalOptions.groupBy.length) && this.serverItemsLength <= 0) {\n        items = this.sortItems(items)\n      }\n\n      if (!this.disablePagination && this.serverItemsLength <= 0) {\n        items = this.paginateItems(items)\n      }\n\n      return items\n    },\n    groupedItems (): ItemGroup<any>[] | null {\n      return this.isGrouped ? this.groupItems(this.computedItems) : null\n    },\n    scopedProps (): DataScopeProps {\n      return {\n        sort: this.sort,\n        sortArray: this.sortArray,\n        group: this.group,\n        items: this.computedItems,\n        options: this.internalOptions,\n        updateOptions: this.updateOptions,\n        pagination: this.pagination,\n        groupedItems: this.groupedItems,\n        originalItemsLength: this.items.length,\n      }\n    },\n    computedOptions (): DataOptions {\n      return { ...this.options } as DataOptions\n    },\n  },\n\n  watch: {\n    computedOptions: {\n      handler (options: DataOptions, old: DataOptions) {\n        if (deepEqual(options, old)) return\n\n        this.updateOptions(options)\n      },\n      deep: true,\n      immediate: true,\n    },\n    internalOptions: {\n      handler (options: DataOptions, old: DataOptions) {\n        if (deepEqual(options, old)) return\n        this.$emit('update:options', options)\n      },\n      deep: true,\n      immediate: true,\n    },\n    page (page: number) {\n      this.updateOptions({ page })\n    },\n    'internalOptions.page' (page: number) {\n      this.$emit('update:page', page)\n    },\n    itemsPerPage (itemsPerPage: number) {\n      this.updateOptions({ itemsPerPage })\n    },\n    'internalOptions.itemsPerPage' (itemsPerPage: number) {\n      this.$emit('update:items-per-page', itemsPerPage)\n    },\n    sortBy (sortBy: string | string[]) {\n      this.updateOptions({ sortBy: wrapInArray(sortBy) })\n    },\n    'internalOptions.sortBy' (sortBy: string[], old: string[]) {\n      !deepEqual(sortBy, old) && this.$emit('update:sort-by', Array.isArray(this.sortBy) ? sortBy : sortBy[0])\n    },\n    sortDesc (sortDesc: boolean | boolean[]) {\n      this.updateOptions({ sortDesc: wrapInArray(sortDesc) })\n    },\n    'internalOptions.sortDesc' (sortDesc: boolean[], old: boolean[]) {\n      !deepEqual(sortDesc, old) && this.$emit('update:sort-desc', Array.isArray(this.sortDesc) ? sortDesc : sortDesc[0])\n    },\n    groupBy (groupBy: string | string[]) {\n      this.updateOptions({ groupBy: wrapInArray(groupBy) })\n    },\n    'internalOptions.groupBy' (groupBy: string[], old: string[]) {\n      !deepEqual(groupBy, old) && this.$emit('update:group-by', Array.isArray(this.groupBy) ? groupBy : groupBy[0])\n    },\n    groupDesc (groupDesc: boolean | boolean[]) {\n      this.updateOptions({ groupDesc: wrapInArray(groupDesc) })\n    },\n    'internalOptions.groupDesc' (groupDesc: boolean[], old: boolean[]) {\n      !deepEqual(groupDesc, old) && this.$emit('update:group-desc', Array.isArray(this.groupDesc) ? groupDesc : groupDesc[0])\n    },\n    multiSort (multiSort: boolean) {\n      this.updateOptions({ multiSort })\n    },\n    'internalOptions.multiSort' (multiSort: boolean) {\n      this.$emit('update:multi-sort', multiSort)\n    },\n    mustSort (mustSort: boolean) {\n      this.updateOptions({ mustSort })\n    },\n    'internalOptions.mustSort' (mustSort: boolean) {\n      this.$emit('update:must-sort', mustSort)\n    },\n    pageCount: {\n      handler (pageCount: number) {\n        this.$emit('page-count', pageCount)\n      },\n      immediate: true,\n    },\n    computedItems: {\n      handler (computedItems: any[]) {\n        this.$emit('current-items', computedItems)\n      },\n      immediate: true,\n    },\n    pagination: {\n      handler (pagination: DataPagination, old: DataPagination) {\n        if (deepEqual(pagination, old)) return\n        this.$emit('pagination', this.pagination)\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    toggle (key: string, oldBy: string[], oldDesc: boolean[], page: number, mustSort: boolean, multiSort: boolean) {\n      let by = oldBy.slice()\n      let desc = oldDesc.slice()\n      const byIndex = by.findIndex((k: string) => k === key)\n\n      if (byIndex < 0) {\n        if (!multiSort) {\n          by = []\n          desc = []\n        }\n\n        by.push(key)\n        desc.push(false)\n      } else if (byIndex >= 0 && !desc[byIndex]) {\n        desc[byIndex] = true\n      } else if (!mustSort) {\n        by.splice(byIndex, 1)\n        desc.splice(byIndex, 1)\n      } else {\n        desc[byIndex] = false\n      }\n\n      // Reset page to 1 if sortBy or sortDesc have changed\n      if (!deepEqual(by, oldBy) || !deepEqual(desc, oldDesc)) {\n        page = 1\n      }\n\n      return { by, desc, page }\n    },\n    group (key: string): void {\n      const { by: groupBy, desc: groupDesc, page } = this.toggle(\n        key,\n        this.internalOptions.groupBy,\n        this.internalOptions.groupDesc,\n        this.internalOptions.page,\n        true,\n        false\n      )\n      this.updateOptions({ groupBy, groupDesc, page })\n    },\n    sort (key: string | string[]): void {\n      if (Array.isArray(key)) return this.sortArray(key)\n\n      const { by: sortBy, desc: sortDesc, page } = this.toggle(\n        key,\n        this.internalOptions.sortBy,\n        this.internalOptions.sortDesc,\n        this.internalOptions.page,\n        this.internalOptions.mustSort,\n        this.internalOptions.multiSort\n      )\n      this.updateOptions({ sortBy, sortDesc, page })\n    },\n    sortArray (sortBy: string[]) {\n      const sortDesc = sortBy.map(s => {\n        const i = this.internalOptions.sortBy.findIndex((k: string) => k === s)\n        return i > -1 ? this.internalOptions.sortDesc[i] : false\n      })\n\n      this.updateOptions({ sortBy, sortDesc })\n    },\n    updateOptions (options: any) {\n      this.internalOptions = {\n        ...this.internalOptions,\n        ...options,\n        page: this.serverItemsLength < 0\n          ? Math.max(1, Math.min(options.page || this.internalOptions.page, this.pageCount))\n          : options.page || this.internalOptions.page,\n      }\n    },\n    sortItems (items: any[]): any[] {\n      let sortBy: string[] = []\n      let sortDesc: boolean[] = []\n\n      if (!this.disableSort) {\n        sortBy = this.internalOptions.sortBy\n        sortDesc = this.internalOptions.sortDesc\n      }\n\n      if (this.internalOptions.groupBy.length) {\n        sortBy = [...this.internalOptions.groupBy, ...sortBy]\n        sortDesc = [...this.internalOptions.groupDesc, ...sortDesc]\n      }\n\n      return this.customSort(items, sortBy, sortDesc, this.locale)\n    },\n    groupItems (items: any[]): ItemGroup<any>[] {\n      return this.customGroup(items, this.internalOptions.groupBy, this.internalOptions.groupDesc)\n    },\n    paginateItems (items: any[]): any[] {\n      // Make sure we don't try to display non-existant page if items suddenly change\n      // TODO: Could possibly move this to pageStart/pageStop?\n      if (this.serverItemsLength === -1 && items.length <= this.pageStart) {\n        this.internalOptions.page = Math.max(1, Math.ceil(items.length / this.internalOptions.itemsPerPage)) || 1 // Prevent NaN\n      }\n\n      return items.slice(this.pageStart, this.pageStop)\n    },\n  },\n\n  render (): VNode {\n    return this.$scopedSlots.default && this.$scopedSlots.default(this.scopedProps) as any\n  },\n})\n"]},"metadata":{},"sourceType":"script"}