{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _timestamp = require(\"../util/timestamp\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar _default = _vue.default.extend({\n  name: 'times',\n  props: {\n    now: {\n      type: String,\n      validator: _timestamp.validateTimestamp\n    }\n  },\n  data: function data() {\n    return {\n      times: {\n        now: (0, _timestamp.parseTimestamp)('0000-00-00 00:00', true),\n        today: (0, _timestamp.parseTimestamp)('0000-00-00', true)\n      }\n    };\n  },\n  computed: {\n    parsedNow: function parsedNow() {\n      return this.now ? (0, _timestamp.parseTimestamp)(this.now, true) : null;\n    }\n  },\n  watch: {\n    parsedNow: 'updateTimes'\n  },\n  created: function created() {\n    this.updateTimes();\n    this.setPresent();\n  },\n  methods: {\n    setPresent: function setPresent() {\n      this.times.now.present = this.times.today.present = true;\n      this.times.now.past = this.times.today.past = false;\n      this.times.now.future = this.times.today.future = false;\n    },\n    updateTimes: function updateTimes() {\n      var now = this.parsedNow || this.getNow();\n      this.updateDay(now, this.times.now);\n      this.updateTime(now, this.times.now);\n      this.updateDay(now, this.times.today);\n    },\n    getNow: function getNow() {\n      return (0, _timestamp.parseDate)(new Date());\n    },\n    updateDay: function updateDay(now, target) {\n      if (now.date !== target.date) {\n        target.year = now.year;\n        target.month = now.month;\n        target.day = now.day;\n        target.weekday = now.weekday;\n        target.date = now.date;\n      }\n    },\n    updateTime: function updateTime(now, target) {\n      if (now.time !== target.time) {\n        target.hour = now.hour;\n        target.minute = now.minute;\n        target.time = now.time;\n      }\n    }\n  }\n});\n\nexports.default = _default;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;eAOeA,aAAIC,MAAJ,CAAW;EACxBC,IAAI,EAAE,OADkB;EAGxBC,KAAK,EAAE;IACLC,GAAG,EAAE;MACHC,IAAI,EAAEC,MADH;MAEHC,SAAS,EAAEC;IAFR;EADA,CAHiB;EAUxBC,IAAI,EAAE;IAAA,OAAO;MACXC,KAAK,EAAE;QACLN,GAAG,EAAE,+BAAe,kBAAf,EAAmC,IAAnC,CADA;QAELO,KAAK,EAAE,+BAAe,YAAf,EAA6B,IAA7B;MAFF;IADI,CAAP;EAVkB;EAiBxBC,QAAQ,EAAE;IACRC,SADQ,uBACC;MACP,OAAO,KAAKT,GAAL,GAAW,+BAAe,KAAKA,GAApB,EAAyB,IAAzB,CAAX,GAA4C,IAAnD;IACD;EAHO,CAjBc;EAuBxBU,KAAK,EAAE;IACLD,SAAS,EAAE;EADN,CAvBiB;EA2BxBE,OA3BwB,qBA2BjB;IACL,KAAKC,WAAL;IACA,KAAKC,UAAL;EA7BsB;EAgCxBC,OAAO,EAAE;IACPD,UADO,wBACG;MACR,KAAKP,KAAL,CAAWN,GAAX,CAAee,OAAf,GAAyB,KAAKT,KAAL,CAAWC,KAAX,CAAiBQ,OAAjB,GAA2B,IAApD;MACA,KAAKT,KAAL,CAAWN,GAAX,CAAegB,IAAf,GAAsB,KAAKV,KAAL,CAAWC,KAAX,CAAiBS,IAAjB,GAAwB,KAA9C;MACA,KAAKV,KAAL,CAAWN,GAAX,CAAeiB,MAAf,GAAwB,KAAKX,KAAL,CAAWC,KAAX,CAAiBU,MAAjB,GAA0B,KAAlD;IAJK;IAMPL,WANO,yBAMI;MACT,IAAMZ,GAAG,GAAsB,KAAKS,SAAL,IAAkB,KAAKS,MAAL,EAAjD;MACA,KAAKC,SAAL,CAAenB,GAAf,EAAoB,KAAKM,KAAL,CAAWN,GAA/B;MACA,KAAKoB,UAAL,CAAgBpB,GAAhB,EAAqB,KAAKM,KAAL,CAAWN,GAAhC;MACA,KAAKmB,SAAL,CAAenB,GAAf,EAAoB,KAAKM,KAAL,CAAWC,KAA/B;IAVK;IAYPW,MAZO,oBAYD;MACJ,OAAO,0BAAU,IAAIG,IAAJ,EAAV,CAAP;IAbK;IAePF,SAfO,qBAeInB,GAfJ,EAe4BsB,MAf5B,EAeqD;MAC1D,IAAItB,GAAG,CAACuB,IAAJ,KAAaD,MAAM,CAACC,IAAxB,EAA8B;QAC5BD,MAAM,CAACE,IAAP,GAAcxB,GAAG,CAACwB,IAAlB;QACAF,MAAM,CAACG,KAAP,GAAezB,GAAG,CAACyB,KAAnB;QACAH,MAAM,CAACI,GAAP,GAAa1B,GAAG,CAAC0B,GAAjB;QACAJ,MAAM,CAACK,OAAP,GAAiB3B,GAAG,CAAC2B,OAArB;QACAL,MAAM,CAACC,IAAP,GAAcvB,GAAG,CAACuB,IAAlB;MACD;IAtBI;IAwBPH,UAxBO,sBAwBKpB,GAxBL,EAwB6BsB,MAxB7B,EAwBsD;MAC3D,IAAItB,GAAG,CAAC4B,IAAJ,KAAaN,MAAM,CAACM,IAAxB,EAA8B;QAC5BN,MAAM,CAACO,IAAP,GAAc7B,GAAG,CAAC6B,IAAlB;QACAP,MAAM,CAACQ,MAAP,GAAgB9B,GAAG,CAAC8B,MAApB;QACAR,MAAM,CAACM,IAAP,GAAc5B,GAAG,CAAC4B,IAAlB;MACD;IACF;EA9BM;AAhCe,CAAX","names":["_vue","extend","name","props","now","type","String","validator","_timestamp","data","times","today","computed","parsedNow","watch","created","updateTimes","setPresent","methods","present","past","future","getNow","updateDay","updateTime","Date","target","date","year","month","day","weekday","time","hour","minute"],"sourceRoot":"","sources":["../../../../src/components/VCalendar/mixins/times.ts"],"sourcesContent":["import Vue from 'vue'\n\nimport {\n  validateTimestamp,\n  parseTimestamp,\n  parseDate,\n} from '../util/timestamp'\nimport { CalendarTimestamp } from 'vuetify/types'\n\nexport default Vue.extend({\n  name: 'times',\n\n  props: {\n    now: {\n      type: String,\n      validator: validateTimestamp,\n    },\n  },\n\n  data: () => ({\n    times: {\n      now: parseTimestamp('0000-00-00 00:00', true),\n      today: parseTimestamp('0000-00-00', true),\n    },\n  }),\n\n  computed: {\n    parsedNow (): CalendarTimestamp | null {\n      return this.now ? parseTimestamp(this.now, true) : null\n    },\n  },\n\n  watch: {\n    parsedNow: 'updateTimes',\n  },\n\n  created () {\n    this.updateTimes()\n    this.setPresent()\n  },\n\n  methods: {\n    setPresent (): void {\n      this.times.now.present = this.times.today.present = true\n      this.times.now.past = this.times.today.past = false\n      this.times.now.future = this.times.today.future = false\n    },\n    updateTimes (): void {\n      const now: CalendarTimestamp = this.parsedNow || this.getNow()\n      this.updateDay(now, this.times.now)\n      this.updateTime(now, this.times.now)\n      this.updateDay(now, this.times.today)\n    },\n    getNow (): CalendarTimestamp {\n      return parseDate(new Date())\n    },\n    updateDay (now: CalendarTimestamp, target: CalendarTimestamp): void {\n      if (now.date !== target.date) {\n        target.year = now.year\n        target.month = now.month\n        target.day = now.day\n        target.weekday = now.weekday\n        target.date = now.date\n      }\n    },\n    updateTime (now: CalendarTimestamp, target: CalendarTimestamp): void {\n      if (now.time !== target.time) {\n        target.hour = now.hour\n        target.minute = now.minute\n        target.time = now.time\n      }\n    },\n  },\n})\n"]},"metadata":{},"sourceType":"script"}