{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _transitions = require(\"../transitions\");\n\nvar _registrable = require(\"../../mixins/registrable\");\n\nvar _helpers = require(\"../../util/helpers\");\n\nvar _mixins = _interopRequireDefault(require(\"../../util/mixins\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Components\n// Mixins\n// Helpers\n// Utilities\n\n\nvar baseMixins = (0, _mixins.default)((0, _registrable.inject)('stepper', 'v-stepper-content', 'v-stepper'));\n/* @vue/component */\n\nvar _default = baseMixins.extend().extend({\n  name: 'v-stepper-content',\n  inject: {\n    isVerticalProvided: {\n      from: 'isVertical'\n    }\n  },\n  props: {\n    step: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      height: 0,\n      // Must be null to allow\n      // previous comparison\n      isActive: null,\n      isReverse: false,\n      isVertical: this.isVerticalProvided\n    };\n  },\n  computed: {\n    computedTransition: function computedTransition() {\n      // Fix for #8978\n      var reverse = this.$vuetify.rtl ? !this.isReverse : this.isReverse;\n      return reverse ? _transitions.VTabReverseTransition : _transitions.VTabTransition;\n    },\n    styles: function styles() {\n      if (!this.isVertical) return {};\n      return {\n        height: (0, _helpers.convertToUnit)(this.height)\n      };\n    }\n  },\n  watch: {\n    isActive: function isActive(current, previous) {\n      // If active and the previous state\n      // was null, is just booting up\n      if (current && previous == null) {\n        this.height = 'auto';\n        return;\n      }\n\n      if (!this.isVertical) return;\n      if (this.isActive) this.enter();else this.leave();\n    }\n  },\n  mounted: function mounted() {\n    this.$refs.wrapper.addEventListener('transitionend', this.onTransition, false);\n    this.stepper && this.stepper.register(this);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$refs.wrapper.removeEventListener('transitionend', this.onTransition, false);\n    this.stepper && this.stepper.unregister(this);\n  },\n  methods: {\n    onTransition: function onTransition(e) {\n      if (!this.isActive || e.propertyName !== 'height') return;\n      this.height = 'auto';\n    },\n    enter: function enter() {\n      var _this = this;\n\n      var scrollHeight = 0; // Render bug with height\n\n      requestAnimationFrame(function () {\n        scrollHeight = _this.$refs.wrapper.scrollHeight;\n      });\n      this.height = 0; // Give the collapsing element time to collapse\n\n      setTimeout(function () {\n        return _this.isActive && (_this.height = scrollHeight || 'auto');\n      }, 450);\n    },\n    leave: function leave() {\n      var _this2 = this;\n\n      this.height = this.$refs.wrapper.clientHeight;\n      setTimeout(function () {\n        return _this2.height = 0;\n      }, 10);\n    },\n    toggle: function toggle(step, reverse) {\n      this.isActive = step.toString() === this.step.toString();\n      this.isReverse = reverse;\n    }\n  },\n  render: function render(h) {\n    var contentData = {\n      staticClass: 'v-stepper__content'\n    };\n    var wrapperData = {\n      staticClass: 'v-stepper__wrapper',\n      style: this.styles,\n      ref: 'wrapper'\n    };\n\n    if (!this.isVertical) {\n      contentData.directives = [{\n        name: 'show',\n        value: this.isActive\n      }];\n    }\n\n    var wrapper = h('div', wrapperData, [this.$slots.default]);\n    var content = h('div', contentData, [wrapper]);\n    return h(this.computedTransition, {\n      on: this.$listeners\n    }, [content]);\n  }\n});\n\nexports.default = _default;","map":{"version":3,"mappings":"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","names":["baseMixins","extend","name","inject","isVerticalProvided","from","props","step","type","Number","String","required","data","height","isActive","isReverse","isVertical","computed","computedTransition","reverse","$vuetify","rtl","_transitions","styles","watch","current","previous","enter","leave","mounted","$refs","wrapper","addEventListener","onTransition","stepper","register","beforeDestroy","removeEventListener","unregister","methods","e","propertyName","scrollHeight","requestAnimationFrame","_this","setTimeout","clientHeight","_this2","toggle","toString","render","h","contentData","staticClass","wrapperData","style","ref","directives","value","$slots","default","content","on","$listeners"],"sourceRoot":"","sources":["../../../src/components/VStepper/VStepperContent.ts"],"sourcesContent":["// Components\nimport {\n  VTabTransition,\n  VTabReverseTransition,\n} from '../transitions'\n\n// Mixins\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Helpers\nimport { convertToUnit } from '../../util/helpers'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode, FunctionalComponentOptions, VNodeData } from 'vue'\n\nconst baseMixins = mixins(\n  RegistrableInject('stepper', 'v-stepper-content', 'v-stepper')\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  $refs: {\n    wrapper: HTMLElement\n  }\n  isVerticalProvided: boolean\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-stepper-content',\n\n  inject: {\n    isVerticalProvided: {\n      from: 'isVertical',\n    },\n  },\n\n  props: {\n    step: {\n      type: [Number, String],\n      required: true,\n    },\n  },\n\n  data () {\n    return {\n      height: 0 as number | string,\n      // Must be null to allow\n      // previous comparison\n      isActive: null as boolean | null,\n      isReverse: false,\n      isVertical: this.isVerticalProvided,\n    }\n  },\n\n  computed: {\n    computedTransition (): FunctionalComponentOptions {\n      // Fix for #8978\n      const reverse = this.$vuetify.rtl ? !this.isReverse : this.isReverse\n\n      return reverse\n        ? VTabReverseTransition\n        : VTabTransition\n    },\n    styles (): object {\n      if (!this.isVertical) return {}\n\n      return {\n        height: convertToUnit(this.height),\n      }\n    },\n  },\n\n  watch: {\n    isActive (current, previous) {\n      // If active and the previous state\n      // was null, is just booting up\n      if (current && previous == null) {\n        this.height = 'auto'\n        return\n      }\n\n      if (!this.isVertical) return\n\n      if (this.isActive) this.enter()\n      else this.leave()\n    },\n  },\n\n  mounted () {\n    this.$refs.wrapper.addEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n    this.stepper && this.stepper.register(this)\n  },\n\n  beforeDestroy () {\n    this.$refs.wrapper.removeEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n    this.stepper && this.stepper.unregister(this)\n  },\n\n  methods: {\n    onTransition (e: TransitionEvent) {\n      if (!this.isActive ||\n        e.propertyName !== 'height'\n      ) return\n\n      this.height = 'auto'\n    },\n    enter () {\n      let scrollHeight = 0\n\n      // Render bug with height\n      requestAnimationFrame(() => {\n        scrollHeight = this.$refs.wrapper.scrollHeight\n      })\n\n      this.height = 0\n\n      // Give the collapsing element time to collapse\n      setTimeout(() => this.isActive && (this.height = (scrollHeight || 'auto')), 450)\n    },\n    leave () {\n      this.height = this.$refs.wrapper.clientHeight\n      setTimeout(() => (this.height = 0), 10)\n    },\n    toggle (step: string | number, reverse: boolean) {\n      this.isActive = step.toString() === this.step.toString()\n      this.isReverse = reverse\n    },\n  },\n\n  render (h): VNode {\n    const contentData = {\n      staticClass: 'v-stepper__content',\n    } as VNodeData\n    const wrapperData = {\n      staticClass: 'v-stepper__wrapper',\n      style: this.styles,\n      ref: 'wrapper',\n    }\n\n    if (!this.isVertical) {\n      contentData.directives = [{\n        name: 'show',\n        value: this.isActive,\n      }]\n    }\n\n    const wrapper = h('div', wrapperData, [this.$slots.default])\n    const content = h('div', contentData, [wrapper])\n\n    return h(this.computedTransition, {\n      on: this.$listeners,\n    }, [content])\n  },\n})\n"]},"metadata":{},"sourceType":"script"}