{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"../../../src/components/VRangeSlider/VRangeSlider.sass\");\n\nvar _VSlider = _interopRequireDefault(require(\"../VSlider\"));\n\nvar _helpers = require(\"../../util/helpers\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/* @vue/component */\n\n\nvar _default2 = _VSlider.default.extend({\n  name: 'v-range-slider',\n  props: {\n    value: {\n      type: Array,\n      default: function _default() {\n        return [0, 0];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      activeThumb: null,\n      lazyValue: this.value\n    };\n  },\n  computed: {\n    classes: function classes() {\n      return _objectSpread(_objectSpread({}, _VSlider.default.options.computed.classes.call(this)), {}, {\n        'v-input--range-slider': true\n      });\n    },\n    internalValue: {\n      get: function get() {\n        return this.lazyValue;\n      },\n      set: function set(val) {\n        var _this = this; // Round value to ensure the\n        // entire slider range can\n        // be selected with step\n\n\n        var value = val.map(function () {\n          var v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          return _this.roundValue(Math.min(Math.max(v, _this.minValue), _this.maxValue));\n        }); // Switch values if range and wrong order\n\n        if (value[0] > value[1] || value[1] < value[0]) {\n          if (this.activeThumb !== null) {\n            var toFocus = this.activeThumb === 1 ? 0 : 1;\n            var el = this.$refs[\"thumb_\".concat(toFocus)];\n            el.focus();\n          }\n\n          value = [value[1], value[0]];\n        }\n\n        this.lazyValue = value;\n        if (!(0, _helpers.deepEqual)(value, this.value)) this.$emit('input', value);\n        this.validate();\n      }\n    },\n    inputWidth: function inputWidth() {\n      var _this2 = this;\n\n      return this.internalValue.map(function (v) {\n        return (_this2.roundValue(v) - _this2.minValue) / (_this2.maxValue - _this2.minValue) * 100;\n      });\n    }\n  },\n  methods: {\n    getTrackStyle: function getTrackStyle(startLength, endLength) {\n      var _ref;\n\n      var startPadding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var endPadding = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var startDir = this.vertical ? this.$vuetify.rtl ? 'top' : 'bottom' : this.$vuetify.rtl ? 'right' : 'left';\n      var endDir = this.vertical ? 'height' : 'width';\n      var start = \"calc(\".concat(startLength, \"% + \").concat(startPadding, \"px)\");\n      var end = \"calc(\".concat(endLength, \"% + \").concat(endPadding, \"px)\");\n      return _ref = {\n        transition: this.trackTransition\n      }, _defineProperty(_ref, startDir, start), _defineProperty(_ref, endDir, end), _ref;\n    },\n    getIndexOfClosestValue: function getIndexOfClosestValue(arr, v) {\n      if (Math.abs(arr[0] - v) < Math.abs(arr[1] - v)) return 0;else return 1;\n    },\n    genInput: function genInput() {\n      var _this3 = this;\n\n      return (0, _helpers.createRange)(2).map(function (i) {\n        var input = _VSlider.default.options.methods.genInput.call(_this3);\n\n        input.data = input.data || {};\n        input.data.attrs = input.data.attrs || {};\n        input.data.attrs.value = _this3.internalValue[i];\n        input.data.attrs.id = \"input-\".concat(i ? 'max' : 'min', \"-\").concat(_this3._uid);\n        return input;\n      });\n    },\n    genTrackContainer: function genTrackContainer() {\n      var _this4 = this;\n\n      var children = [];\n      var padding = this.isDisabled ? 10 : 0;\n      var sections = [{\n        class: 'v-slider__track-background',\n        color: this.computedTrackColor,\n        styles: [0, this.inputWidth[0], 0, -padding]\n      }, {\n        class: this.isDisabled ? 'v-slider__track-background' : 'v-slider__track-fill',\n        color: this.isDisabled ? this.computedTrackColor : this.computedTrackFillColor,\n        styles: [this.inputWidth[0], Math.abs(this.inputWidth[1] - this.inputWidth[0]), padding, padding * -2]\n      }, {\n        class: 'v-slider__track-background',\n        color: this.computedTrackColor,\n        styles: [this.inputWidth[1], Math.abs(100 - this.inputWidth[1]), padding, -padding]\n      }];\n      if (this.$vuetify.rtl) sections.reverse();\n      children.push.apply(children, _toConsumableArray(sections.map(function (section) {\n        return _this4.$createElement('div', _this4.setBackgroundColor(section.color, {\n          staticClass: section.class,\n          style: _this4.getTrackStyle.apply(_this4, _toConsumableArray(section.styles))\n        }));\n      })));\n      return this.$createElement('div', {\n        staticClass: 'v-slider__track-container',\n        ref: 'track'\n      }, children);\n    },\n    genChildren: function genChildren() {\n      var _this5 = this;\n\n      return [this.genInput(), this.genTrackContainer(), this.genSteps(), (0, _helpers.createRange)(2).map(function (index) {\n        var value = _this5.internalValue[index];\n\n        var onFocus = function onFocus(e) {\n          _this5.isFocused = true;\n          _this5.activeThumb = index;\n\n          _this5.$emit('focus', e);\n        };\n\n        var onBlur = function onBlur(e) {\n          _this5.isFocused = false;\n          _this5.activeThumb = null;\n\n          _this5.$emit('blur', e);\n        };\n\n        var valueWidth = _this5.inputWidth[index];\n        var isActive = _this5.isActive && _this5.activeThumb === index;\n        var isFocused = _this5.isFocused && _this5.activeThumb === index;\n        return _this5.genThumbContainer(value, valueWidth, isActive, isFocused, onFocus, onBlur, \"thumb_\".concat(index));\n      })];\n    },\n    reevaluateSelected: function reevaluateSelected(value) {\n      this.activeThumb = this.getIndexOfClosestValue(this.internalValue, value);\n      var refName = \"thumb_\".concat(this.activeThumb);\n      var thumbRef = this.$refs[refName];\n      thumbRef.focus();\n    },\n    onSliderMouseDown: function onSliderMouseDown(e) {\n      var _e$target,\n          _this6 = this;\n\n      var value = this.parseMouseMove(e);\n      this.reevaluateSelected(value);\n      this.oldValue = this.internalValue;\n      this.isActive = true;\n\n      if ((_e$target = e.target) != null && _e$target.matches('.v-slider__thumb-container, .v-slider__thumb-container *')) {\n        this.thumbPressed = true;\n        var domRect = e.target.getBoundingClientRect();\n        var touch = 'touches' in e ? e.touches[0] : e;\n        this.startOffset = this.vertical ? touch.clientY - (domRect.top + domRect.height / 2) : touch.clientX - (domRect.left + domRect.width / 2);\n      } else {\n        this.startOffset = 0;\n        window.clearTimeout(this.mouseTimeout);\n        this.mouseTimeout = window.setTimeout(function () {\n          _this6.thumbPressed = true;\n        }, 300);\n      }\n\n      var mouseUpOptions = _helpers.passiveSupported ? {\n        passive: true,\n        capture: true\n      } : true;\n      var mouseMoveOptions = _helpers.passiveSupported ? {\n        passive: true\n      } : false;\n      var isTouchEvent = ('touches' in e);\n      this.onMouseMove(e);\n      this.app.addEventListener(isTouchEvent ? 'touchmove' : 'mousemove', this.onMouseMove, mouseMoveOptions);\n      (0, _helpers.addOnceEventListener)(this.app, isTouchEvent ? 'touchend' : 'mouseup', this.onSliderMouseUp, mouseUpOptions);\n      this.$emit('start', this.internalValue);\n    },\n    onSliderClick: function onSliderClick(e) {\n      if (!this.isActive) {\n        if (this.noClick) {\n          this.noClick = false;\n          return;\n        }\n\n        var value = this.parseMouseMove(e);\n        this.reevaluateSelected(value);\n        this.setInternalValue(value);\n        this.$emit('change', this.internalValue);\n      }\n    },\n    onMouseMove: function onMouseMove(e) {\n      var value = this.parseMouseMove(e);\n\n      if (e.type === 'mousemove') {\n        this.thumbPressed = true;\n      }\n\n      if (this.activeThumb === null) {\n        this.activeThumb = this.getIndexOfClosestValue(this.internalValue, value);\n      }\n\n      this.setInternalValue(value);\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (this.activeThumb === null) return;\n      var value = this.parseKeyDown(e, this.internalValue[this.activeThumb]);\n      if (value == null) return;\n      this.setInternalValue(value);\n      this.$emit('change', this.internalValue);\n    },\n    setInternalValue: function setInternalValue(value) {\n      var _this7 = this;\n\n      this.internalValue = this.internalValue.map(function (v, i) {\n        if (i === _this7.activeThumb) return value;else return Number(v);\n      });\n    }\n  }\n});\n\nexports.default = _default2;","map":{"version":3,"mappings":"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","names":["require","_VSlider","extend","name","props","value","type","Array","default","data","activeThumb","lazyValue","computed","classes","options","call","internalValue","get","set","val","map","v","_this","roundValue","Math","min","max","minValue","maxValue","toFocus","el","$refs","focus","$emit","validate","inputWidth","_this2","methods","getTrackStyle","startLength","endLength","startPadding","endPadding","startDir","vertical","$vuetify","rtl","endDir","start","end","transition","trackTransition","getIndexOfClosestValue","arr","abs","genInput","input","_this3","attrs","i","id","_uid","genTrackContainer","children","padding","isDisabled","sections","class","color","computedTrackColor","styles","computedTrackFillColor","reverse","push","_toConsumableArray","_this4","$createElement","setBackgroundColor","section","staticClass","style","ref","genChildren","genSteps","_this5","index","onFocus","e","isFocused","onBlur","valueWidth","isActive","genThumbContainer","reevaluateSelected","refName","thumbRef","onSliderMouseDown","parseMouseMove","oldValue","target","_e$target","matches","thumbPressed","domRect","getBoundingClientRect","touch","touches","startOffset","clientY","top","height","clientX","left","width","window","clearTimeout","mouseTimeout","setTimeout","_this6","mouseUpOptions","_helpers","passive","capture","mouseMoveOptions","isTouchEvent","onMouseMove","app","addEventListener","onSliderMouseUp","onSliderClick","noClick","setInternalValue","onKeyDown","parseKeyDown","_this7","Number"],"sourceRoot":"","sources":["../../../src/components/VRangeSlider/VRangeSlider.ts"],"sourcesContent":["// Styles\nimport './VRangeSlider.sass'\n\n// Components\nimport VSlider from '../VSlider'\n\n// Helpers\nimport {\n  addOnceEventListener,\n  createRange,\n  deepEqual,\n  passiveSupported,\n} from '../../util/helpers'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n/* @vue/component */\nexport default VSlider.extend({\n  name: 'v-range-slider',\n\n  props: {\n    value: {\n      type: Array,\n      default: () => ([0, 0]),\n    } as unknown as PropValidator<[number, number]>,\n  },\n\n  data () {\n    return {\n      activeThumb: null as null | number,\n      lazyValue: this.value,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VSlider.options.computed.classes.call(this),\n        'v-input--range-slider': true,\n      }\n    },\n    internalValue: {\n      get (): number[] {\n        return this.lazyValue\n      },\n      set (val: number[]) {\n        // Round value to ensure the\n        // entire slider range can\n        // be selected with step\n        let value = val.map((v = 0) => this.roundValue(Math.min(Math.max(v, this.minValue), this.maxValue)))\n\n        // Switch values if range and wrong order\n        if (value[0] > value[1] || value[1] < value[0]) {\n          if (this.activeThumb !== null) {\n            const toFocus = this.activeThumb === 1 ? 0 : 1\n            const el = this.$refs[`thumb_${toFocus}`] as HTMLElement\n            el.focus()\n          }\n          value = [value[1], value[0]]\n        }\n\n        this.lazyValue = value\n        if (!deepEqual(value, this.value)) this.$emit('input', value)\n\n        this.validate()\n      },\n    },\n    inputWidth (): number[] {\n      return this.internalValue.map((v: number) => (\n        this.roundValue(v) - this.minValue) / (this.maxValue - this.minValue) * 100\n      )\n    },\n  },\n\n  methods: {\n    getTrackStyle (startLength: number, endLength: number, startPadding = 0, endPadding = 0) {\n      const startDir = this.vertical ? this.$vuetify.rtl ? 'top' : 'bottom' : this.$vuetify.rtl ? 'right' : 'left'\n      const endDir = this.vertical ? 'height' : 'width'\n\n      const start = `calc(${startLength}% + ${startPadding}px)`\n      const end = `calc(${endLength}% + ${endPadding}px)`\n\n      return {\n        transition: this.trackTransition,\n        [startDir]: start,\n        [endDir]: end,\n      }\n    },\n    getIndexOfClosestValue (arr: number[], v: number) {\n      if (Math.abs(arr[0] - v) < Math.abs(arr[1] - v)) return 0\n      else return 1\n    },\n    genInput () {\n      return createRange(2).map(i => {\n        const input = VSlider.options.methods.genInput.call(this)\n\n        input.data = input.data || {}\n        input.data.attrs = input.data.attrs || {}\n        input.data.attrs.value = this.internalValue[i]\n        input.data.attrs.id = `input-${i ? 'max' : 'min'}-${this._uid}`\n\n        return input\n      })\n    },\n    genTrackContainer () {\n      const children = []\n\n      const padding = this.isDisabled ? 10 : 0\n      const sections: { class: string, color: string | undefined, styles: [number, number, number, number] }[] = [\n        {\n          class: 'v-slider__track-background',\n          color: this.computedTrackColor,\n          styles: [0, this.inputWidth[0], 0, -padding],\n        },\n        {\n          class: this.isDisabled ? 'v-slider__track-background' : 'v-slider__track-fill',\n          color: this.isDisabled ? this.computedTrackColor : this.computedTrackFillColor,\n          styles: [this.inputWidth[0], Math.abs(this.inputWidth[1] - this.inputWidth[0]), padding, padding * -2],\n        },\n        {\n          class: 'v-slider__track-background',\n          color: this.computedTrackColor,\n          styles: [this.inputWidth[1], Math.abs(100 - this.inputWidth[1]), padding, -padding],\n        },\n      ]\n\n      if (this.$vuetify.rtl) sections.reverse()\n\n      children.push(...sections.map(section => this.$createElement('div', this.setBackgroundColor(section.color, {\n        staticClass: section.class,\n        style: this.getTrackStyle(...section.styles),\n      }))))\n\n      return this.$createElement('div', {\n        staticClass: 'v-slider__track-container',\n        ref: 'track',\n      }, children)\n    },\n    genChildren () {\n      return [\n        this.genInput(),\n        this.genTrackContainer(),\n        this.genSteps(),\n        createRange(2).map(index => {\n          const value = this.internalValue[index]\n          const onFocus = (e: Event) => {\n            this.isFocused = true\n            this.activeThumb = index\n\n            this.$emit('focus', e)\n          }\n\n          const onBlur = (e: Event) => {\n            this.isFocused = false\n            this.activeThumb = null\n\n            this.$emit('blur', e)\n          }\n\n          const valueWidth = this.inputWidth[index]\n          const isActive = this.isActive && this.activeThumb === index\n          const isFocused = this.isFocused && this.activeThumb === index\n\n          return this.genThumbContainer(value, valueWidth, isActive, isFocused, onFocus, onBlur, `thumb_${index}`)\n        }),\n      ]\n    },\n    reevaluateSelected (value: number) {\n      this.activeThumb = this.getIndexOfClosestValue(this.internalValue, value)\n      const refName = `thumb_${this.activeThumb}`\n      const thumbRef = this.$refs[refName] as HTMLElement\n      thumbRef.focus()\n    },\n    onSliderMouseDown (e: MouseEvent | TouchEvent) {\n      const value = this.parseMouseMove(e)\n\n      this.reevaluateSelected(value)\n\n      this.oldValue = this.internalValue\n      this.isActive = true\n\n      if ((e.target as Element)?.matches('.v-slider__thumb-container, .v-slider__thumb-container *')) {\n        this.thumbPressed = true\n        const domRect = (e.target as Element).getBoundingClientRect()\n        const touch = 'touches' in e ? e.touches[0] : e\n        this.startOffset = this.vertical\n          ? touch.clientY - (domRect.top + domRect.height / 2)\n          : touch.clientX - (domRect.left + domRect.width / 2)\n      } else {\n        this.startOffset = 0\n        window.clearTimeout(this.mouseTimeout)\n        this.mouseTimeout = window.setTimeout(() => {\n          this.thumbPressed = true\n        }, 300)\n      }\n\n      const mouseUpOptions = passiveSupported ? { passive: true, capture: true } : true\n      const mouseMoveOptions = passiveSupported ? { passive: true } : false\n\n      const isTouchEvent = 'touches' in e\n\n      this.onMouseMove(e)\n      this.app.addEventListener(isTouchEvent ? 'touchmove' : 'mousemove', this.onMouseMove, mouseMoveOptions)\n      addOnceEventListener(this.app, isTouchEvent ? 'touchend' : 'mouseup', this.onSliderMouseUp, mouseUpOptions)\n\n      this.$emit('start', this.internalValue)\n    },\n    onSliderClick (e: MouseEvent) {\n      if (!this.isActive) {\n        if (this.noClick) {\n          this.noClick = false\n          return\n        }\n\n        const value = this.parseMouseMove(e)\n\n        this.reevaluateSelected(value)\n\n        this.setInternalValue(value)\n\n        this.$emit('change', this.internalValue)\n      }\n    },\n    onMouseMove (e: MouseEvent | TouchEvent) {\n      const value = this.parseMouseMove(e)\n\n      if (e.type === 'mousemove') {\n        this.thumbPressed = true\n      }\n\n      if (this.activeThumb === null) {\n        this.activeThumb = this.getIndexOfClosestValue(this.internalValue, value)\n      }\n\n      this.setInternalValue(value)\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (this.activeThumb === null) return\n\n      const value = this.parseKeyDown(e, this.internalValue[this.activeThumb])\n\n      if (value == null) return\n\n      this.setInternalValue(value)\n      this.$emit('change', this.internalValue)\n    },\n    setInternalValue (value: number) {\n      this.internalValue = this.internalValue.map((v: number, i: number) => {\n        if (i === this.activeThumb) return value\n        else return Number(v)\n      })\n    },\n  },\n})\n"]},"metadata":{},"sourceType":"script"}