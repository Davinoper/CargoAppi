{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.weak-map.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.string.includes.js\");\n\nrequire(\"core-js/modules/es.array.flat.js\");\n\nrequire(\"core-js/modules/es.array.unscopables.flat.js\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"../../../src/components/VColorPicker/VColorPicker.sass\");\n\nvar _VSheet = _interopRequireDefault(require(\"../VSheet/VSheet\"));\n\nvar _VColorPickerPreview = _interopRequireDefault(require(\"./VColorPickerPreview\"));\n\nvar _VColorPickerCanvas = _interopRequireDefault(require(\"./VColorPickerCanvas\"));\n\nvar _VColorPickerEdit = _interopRequireWildcard(require(\"./VColorPickerEdit\"));\n\nvar _VColorPickerSwatches = _interopRequireDefault(require(\"./VColorPickerSwatches\"));\n\nvar _util = require(\"./util\");\n\nvar _mixins = _interopRequireDefault(require(\"../../util/mixins\"));\n\nvar _helpers = require(\"../../util/helpers\");\n\nvar _elevatable = _interopRequireDefault(require(\"../../mixins/elevatable\"));\n\nvar _themeable = _interopRequireDefault(require(\"../../mixins/themeable\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar _default = (0, _mixins.default)(_elevatable.default, _themeable.default).extend({\n  name: 'v-color-picker',\n  props: {\n    canvasHeight: {\n      type: [String, Number],\n      default: 150\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10\n    },\n    flat: Boolean,\n    hideCanvas: Boolean,\n    hideSliders: Boolean,\n    hideInputs: Boolean,\n    hideModeSwitch: Boolean,\n    mode: {\n      type: String,\n      default: 'rgba',\n      validator: function validator(v) {\n        return Object.keys(_VColorPickerEdit.modes).includes(v);\n      }\n    },\n    showSwatches: Boolean,\n    swatches: Array,\n    swatchesMaxHeight: {\n      type: [Number, String],\n      default: 150\n    },\n    value: {\n      type: [Object, String]\n    },\n    width: {\n      type: [Number, String],\n      default: 300\n    }\n  },\n  data: function data() {\n    return {\n      internalValue: (0, _util.fromRGBA)({\n        r: 255,\n        g: 0,\n        b: 0,\n        a: 1\n      })\n    };\n  },\n  computed: {\n    hideAlpha: function hideAlpha() {\n      if (!this.value) return false;\n      return !(0, _util.hasAlpha)(this.value);\n    }\n  },\n  watch: {\n    value: {\n      handler: function handler(color) {\n        this.updateColor((0, _util.parseColor)(color, this.internalValue));\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    updateColor: function updateColor(color) {\n      this.internalValue = color;\n      var value = (0, _util.extractColor)(this.internalValue, this.value);\n\n      if (!(0, _helpers.deepEqual)(value, this.value)) {\n        this.$emit('input', value);\n        this.$emit('update:color', this.internalValue);\n      }\n    },\n    genCanvas: function genCanvas() {\n      return this.$createElement(_VColorPickerCanvas.default, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          dotSize: this.dotSize,\n          width: this.width,\n          height: this.canvasHeight\n        },\n        on: {\n          'update:color': this.updateColor\n        }\n      });\n    },\n    genControls: function genControls() {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__controls'\n      }, [!this.hideSliders && this.genPreview(), !this.hideInputs && this.genEdit()]);\n    },\n    genEdit: function genEdit() {\n      var _this = this;\n\n      return this.$createElement(_VColorPickerEdit.default, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha,\n          hideModeSwitch: this.hideModeSwitch,\n          mode: this.mode\n        },\n        on: {\n          'update:color': this.updateColor,\n          'update:mode': function updateMode(v) {\n            return _this.$emit('update:mode', v);\n          }\n        }\n      });\n    },\n    genPreview: function genPreview() {\n      return this.$createElement(_VColorPickerPreview.default, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha\n        },\n        on: {\n          'update:color': this.updateColor\n        }\n      });\n    },\n    genSwatches: function genSwatches() {\n      return this.$createElement(_VColorPickerSwatches.default, {\n        props: {\n          dark: this.dark,\n          light: this.light,\n          disabled: this.disabled,\n          swatches: this.swatches,\n          color: this.internalValue,\n          maxHeight: this.swatchesMaxHeight\n        },\n        on: {\n          'update:color': this.updateColor\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    return h(_VSheet.default, {\n      staticClass: 'v-color-picker',\n      class: _objectSpread(_objectSpread({\n        'v-color-picker--flat': this.flat\n      }, this.themeClasses), this.elevationClasses),\n      props: {\n        maxWidth: this.width\n      }\n    }, [!this.hideCanvas && this.genCanvas(), (!this.hideSliders || !this.hideInputs) && this.genControls(), this.showSwatches && this.genSwatches()]);\n  }\n});\n\nexports.default = _default;","map":{"version":3,"mappings":"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","names":["require","_elevatable","_themeable","extend","name","props","canvasHeight","type","String","Number","default","disabled","Boolean","dotSize","flat","hideCanvas","hideSliders","hideInputs","hideModeSwitch","mode","validator","v","Object","keys","_VColorPickerEdit","includes","showSwatches","swatches","Array","swatchesMaxHeight","value","width","data","internalValue","r","g","b","a","computed","hideAlpha","watch","handler","color","updateColor","immediate","methods","$emit","genCanvas","$createElement","_VColorPickerCanvas","height","on","genControls","staticClass","genPreview","genEdit","_this","_VColorPickerPreview","genSwatches","_VColorPickerSwatches","dark","light","maxHeight","render","h","_VSheet","class","themeClasses","elevationClasses","maxWidth"],"sourceRoot":"","sources":["../../../src/components/VColorPicker/VColorPicker.ts"],"sourcesContent":["// Styles\nimport './VColorPicker.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\nimport VColorPickerPreview from './VColorPickerPreview'\nimport VColorPickerCanvas from './VColorPickerCanvas'\nimport VColorPickerEdit, { Mode, modes } from './VColorPickerEdit'\nimport VColorPickerSwatches from './VColorPickerSwatches'\n\n// Helpers\nimport { VColorPickerColor, parseColor, fromRGBA, extractColor, hasAlpha } from './util'\nimport mixins from '../../util/mixins'\nimport { deepEqual } from '../../util/helpers'\n\n// Mixins\nimport Elevatable from '../../mixins/elevatable'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode, PropType } from 'vue'\n\nexport default mixins(Elevatable, Themeable).extend({\n  name: 'v-color-picker',\n\n  props: {\n    canvasHeight: {\n      type: [String, Number],\n      default: 150,\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10,\n    },\n    flat: Boolean,\n    hideCanvas: Boolean,\n    hideSliders: Boolean,\n    hideInputs: Boolean,\n    hideModeSwitch: Boolean,\n    mode: {\n      type: String,\n      default: 'rgba',\n      validator: (v: string) => Object.keys(modes).includes(v),\n    },\n    showSwatches: Boolean,\n    swatches: Array as PropType<string[][]>,\n    swatchesMaxHeight: {\n      type: [Number, String],\n      default: 150,\n    },\n    value: {\n      type: [Object, String],\n    },\n    width: {\n      type: [Number, String],\n      default: 300,\n    },\n  },\n\n  data: () => ({\n    internalValue: fromRGBA({ r: 255, g: 0, b: 0, a: 1 }),\n  }),\n\n  computed: {\n    hideAlpha (): boolean {\n      if (!this.value) return false\n\n      return !hasAlpha(this.value)\n    },\n  },\n\n  watch: {\n    value: {\n      handler (color: any) {\n        this.updateColor(parseColor(color, this.internalValue))\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    updateColor (color: VColorPickerColor) {\n      this.internalValue = color\n      const value = extractColor(this.internalValue, this.value)\n\n      if (!deepEqual(value, this.value)) {\n        this.$emit('input', value)\n        this.$emit('update:color', this.internalValue)\n      }\n    },\n    genCanvas (): VNode {\n      return this.$createElement(VColorPickerCanvas, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          dotSize: this.dotSize,\n          width: this.width,\n          height: this.canvasHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genControls (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__controls',\n      }, [\n        !this.hideSliders && this.genPreview(),\n        !this.hideInputs && this.genEdit(),\n      ])\n    },\n    genEdit (): VNode {\n      return this.$createElement(VColorPickerEdit, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha,\n          hideModeSwitch: this.hideModeSwitch,\n          mode: this.mode,\n        },\n        on: {\n          'update:color': this.updateColor,\n          'update:mode': (v: Mode) => this.$emit('update:mode', v),\n        },\n      })\n    },\n    genPreview (): VNode {\n      return this.$createElement(VColorPickerPreview, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genSwatches (): VNode {\n      return this.$createElement(VColorPickerSwatches, {\n        props: {\n          dark: this.dark,\n          light: this.light,\n          disabled: this.disabled,\n          swatches: this.swatches,\n          color: this.internalValue,\n          maxHeight: this.swatchesMaxHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h(VSheet, {\n      staticClass: 'v-color-picker',\n      class: {\n        'v-color-picker--flat': this.flat,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n      },\n      props: {\n        maxWidth: this.width,\n      },\n    }, [\n      !this.hideCanvas && this.genCanvas(),\n      (!this.hideSliders || !this.hideInputs) && this.genControls(),\n      this.showSwatches && this.genSwatches(),\n    ])\n  },\n})\n"]},"metadata":{},"sourceType":"script"}