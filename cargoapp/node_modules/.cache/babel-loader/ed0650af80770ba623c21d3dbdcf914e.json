{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Scroll = void 0;\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction inserted(el, binding, vnode) {\n  var _ref = binding.modifiers || {},\n      _ref$self = _ref.self,\n      self = _ref$self === void 0 ? false : _ref$self;\n\n  var value = binding.value;\n  var options = _typeof(value) === 'object' && value.options || {\n    passive: true\n  };\n  var handler = typeof value === 'function' || 'handleEvent' in value ? value : value.handler;\n  var target = self ? el : binding.arg ? document.querySelector(binding.arg) : window;\n  if (!target) return;\n  target.addEventListener('scroll', handler, options);\n  el._onScroll = Object(el._onScroll);\n  el._onScroll[vnode.context._uid] = {\n    handler: handler,\n    options: options,\n    // Don't reference self\n    target: self ? undefined : target\n  };\n}\n\nfunction unbind(el, binding, vnode) {\n  var _el$_onScroll;\n\n  if (!((_el$_onScroll = el._onScroll) != null && _el$_onScroll[vnode.context._uid])) return;\n  var _el$_onScroll$vnode$c = el._onScroll[vnode.context._uid],\n      handler = _el$_onScroll$vnode$c.handler,\n      options = _el$_onScroll$vnode$c.options,\n      _el$_onScroll$vnode$c2 = _el$_onScroll$vnode$c.target,\n      target = _el$_onScroll$vnode$c2 === void 0 ? el : _el$_onScroll$vnode$c2;\n  target.removeEventListener('scroll', handler, options);\n  delete el._onScroll[vnode.context._uid];\n}\n\nvar Scroll = {\n  inserted: inserted,\n  unbind: unbind\n};\nexports.Scroll = Scroll;\nvar _default = Scroll;\nexports.default = _default;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaA,SAASA,QAAT,CAAmBC,EAAnB,EAAoCC,OAApC,EAAmEC,KAAnE,EAA+E;EAAA,WACpDD,OAAO,CAACE,SAAR,IAAqB,EAD+B;EAAA,qBACrEC,IADqE;EAAA,IACrEA,IADqE,0BAC9D,KAD8D;;EAE7E,IAAMC,KAAK,GAAGJ,OAAO,CAACI,KAAtB;EACA,IAAMC,OAAO,GAAIC,QAAOF,KAAP,MAAiB,QAAjB,IAA6BA,KAAK,CAACC,OAAnC,IAA+C;IAAEE,OAAO,EAAE;EAAX,CAAhE;EACA,IAAMC,OAAO,GAAG,OAAOJ,KAAP,KAAiB,UAAjB,IAA+B,iBAAiBA,KAAhD,GAAwDA,KAAxD,GAAgEA,KAAK,CAACI,OAAtF;EAEA,IAAMC,MAAM,GAAGN,IAAI,GACfJ,EADe,GAEfC,OAAO,CAACU,GAAR,GACEC,QAAQ,CAACC,aAAT,CAAuBZ,OAAO,CAACU,GAA/B,CADF,GAEEG,MAJN;EAMA,IAAI,CAACJ,MAAL,EAAa;EAEbA,MAAM,CAACK,gBAAP,CAAwB,QAAxB,EAAkCN,OAAlC,EAA2CH,OAA3C;EAEAN,EAAE,CAACgB,SAAH,GAAeC,MAAM,CAACjB,EAAE,CAACgB,SAAJ,CAArB;EACAhB,EAAE,CAACgB,SAAH,CAAcd,KAAK,CAACgB,OAAN,CAAeC,IAA7B,IAAqC;IACnCV,OAAO,EAAPA,OADmC;IAEnCH,OAAO,EAAPA,OAFmC;IAGnC;IACAI,MAAM,EAAEN,IAAI,GAAGgB,SAAH,GAAeV;EAJQ,CAArC;AAMD;;AAED,SAASW,MAAT,CAAiBrB,EAAjB,EAAkCC,OAAlC,EAAiEC,KAAjE,EAA6E;EAAA;;EAC3E,IAAI,mBAACF,EAAE,CAACgB,SAAJ,aAACM,cAAepB,KAAK,CAACgB,OAAN,CAAeC,IAA9B,CAAD,CAAJ,EAA0C;EADiC,4BAGjCnB,EAAE,CAACgB,SAAH,CAAad,KAAK,CAACgB,OAAN,CAAeC,IAA5B,CAHiC;EAAA,IAGnEV,OAHmE,yBAGnEA,OAHmE;EAAA,IAG1DH,OAH0D,yBAG1DA,OAH0D;EAAA,mDAGjDI,MAHiD;EAAA,IAGjDA,MAHiD,uCAGxCV,EAHwC;EAK3EU,MAAM,CAACa,mBAAP,CAA2B,QAA3B,EAAqCd,OAArC,EAA8CH,OAA9C;EACA,OAAON,EAAE,CAACgB,SAAH,CAAad,KAAK,CAACgB,OAAN,CAAeC,IAA5B,CAAP;AACD;;AAEM,IAAMK,MAAM,GAAG;EACpBzB,QAAQ,EAARA,QADoB;EAEpBsB,MAAM,EAANA;AAFoB,CAAf;;eAKQG","names":["inserted","el","binding","vnode","modifiers","self","value","options","_typeof","passive","handler","target","arg","document","querySelector","window","addEventListener","_onScroll","Object","context","_uid","undefined","unbind","_el$_onScroll","removeEventListener","Scroll"],"sourceRoot":"","sources":["../../../src/directives/scroll/index.ts"],"sourcesContent":["import { VNodeDirective } from 'vue/types/vnode'\nimport { DirectiveOptions, VNode } from 'vue'\n\ninterface ScrollVNodeDirective extends Omit<VNodeDirective, 'modifiers'> {\n  value: EventListener | {\n    handler: EventListener\n    options?: boolean | AddEventListenerOptions\n  } | EventListenerObject & { options?: boolean | AddEventListenerOptions }\n  modifiers?: {\n    self?: boolean\n  }\n}\n\nfunction inserted (el: HTMLElement, binding: ScrollVNodeDirective, vnode: VNode) {\n  const { self = false } = binding.modifiers || {}\n  const value = binding.value\n  const options = (typeof value === 'object' && value.options) || { passive: true }\n  const handler = typeof value === 'function' || 'handleEvent' in value ? value : value.handler\n\n  const target = self\n    ? el\n    : binding.arg\n      ? document.querySelector(binding.arg)\n      : window\n\n  if (!target) return\n\n  target.addEventListener('scroll', handler, options)\n\n  el._onScroll = Object(el._onScroll)\n  el._onScroll![vnode.context!._uid] = {\n    handler,\n    options,\n    // Don't reference self\n    target: self ? undefined : target,\n  }\n}\n\nfunction unbind (el: HTMLElement, binding: ScrollVNodeDirective, vnode: VNode) {\n  if (!el._onScroll?.[vnode.context!._uid]) return\n\n  const { handler, options, target = el } = el._onScroll[vnode.context!._uid]!\n\n  target.removeEventListener('scroll', handler, options)\n  delete el._onScroll[vnode.context!._uid]\n}\n\nexport const Scroll = {\n  inserted,\n  unbind,\n} as DirectiveOptions\n\nexport default Scroll\n"]},"metadata":{},"sourceType":"script"}