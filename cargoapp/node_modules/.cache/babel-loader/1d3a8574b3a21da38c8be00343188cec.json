{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mixins = _interopRequireDefault(require(\"../../util/mixins\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction searchChildren(children) {\n  var results = [];\n\n  for (var index = 0; index < children.length; index++) {\n    var child = children[index];\n\n    if (child.isActive && child.isDependent) {\n      results.push(child);\n    } else {\n      results.push.apply(results, _toConsumableArray(searchChildren(child.$children)));\n    }\n  }\n\n  return results;\n}\n/* @vue/component */\n\n\nvar _default = (0, _mixins.default)().extend({\n  name: 'dependent',\n  data: function data() {\n    return {\n      closeDependents: true,\n      isActive: false,\n      isDependent: true\n    };\n  },\n  watch: {\n    isActive: function isActive(val) {\n      if (val) return;\n      var openDependents = this.getOpenDependents();\n\n      for (var index = 0; index < openDependents.length; index++) {\n        openDependents[index].isActive = false;\n      }\n    }\n  },\n  methods: {\n    getOpenDependents: function getOpenDependents() {\n      if (this.closeDependents) return searchChildren(this.$children);\n      return [];\n    },\n    getOpenDependentElements: function getOpenDependentElements() {\n      var result = [];\n      var openDependents = this.getOpenDependents();\n\n      for (var index = 0; index < openDependents.length; index++) {\n        result.push.apply(result, _toConsumableArray(openDependents[index].getClickableDependentElements()));\n      }\n\n      return result;\n    },\n    getClickableDependentElements: function getClickableDependentElements() {\n      var result = [this.$el];\n      if (this.$refs.content) result.push(this.$refs.content);\n      if (this.overlay) result.push(this.overlay.$el);\n      result.push.apply(result, _toConsumableArray(this.getOpenDependentElements()));\n      return result;\n    }\n  }\n});\n\nexports.default = _default;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,SAASA,cAAT,CAAyBC,QAAzB,EAAwC;EACtC,IAAMC,OAAO,GAAG,EAAhB;;EACA,KAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGF,QAAQ,CAACG,MAArC,EAA6CD,KAAK,EAAlD,EAAsD;IACpD,IAAME,KAAK,GAAGJ,QAAQ,CAACE,KAAD,CAAtB;;IACA,IAAIE,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACE,WAA5B,EAAyC;MACvCL,OAAO,CAACM,IAAR,CAAaH,KAAb;IADF,OAEO;MACLH,OAAO,CAACM,IAAR,gBAAOC,mBAAST,cAAc,CAACK,KAAK,CAACK,SAAP,CAAvB,CAAP;IACD;EACF;;EAED,OAAOR,OAAP;AACD;AAED;;;eACe,uBAAkBS,MAAlB,CAAyB;EACtCC,IAAI,EAAE,WADgC;EAGtCC,IAHsC,kBAGlC;IACF,OAAO;MACLC,eAAe,EAAE,IADZ;MAELR,QAAQ,EAAE,KAFL;MAGLC,WAAW,EAAE;IAHR,CAAP;EAJoC;EAWtCQ,KAAK,EAAE;IACLT,QADK,oBACKU,GADL,EACQ;MACX,IAAIA,GAAJ,EAAS;MAET,IAAMC,cAAc,GAAG,KAAKC,iBAAL,EAAvB;;MACA,KAAK,IAAIf,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGc,cAAc,CAACb,MAA3C,EAAmDD,KAAK,EAAxD,EAA4D;QAC1Dc,cAAc,CAACd,KAAD,CAAd,CAAsBG,QAAtB,GAAiC,KAAjC;MACD;IACF;EARI,CAX+B;EAsBtCa,OAAO,EAAE;IACPD,iBADO,+BACU;MACf,IAAI,KAAKJ,eAAT,EAA0B,OAAOd,cAAc,CAAC,KAAKU,SAAN,CAArB;MAE1B,OAAO,EAAP;IAJK;IAMPU,wBANO,sCAMiB;MACtB,IAAMC,MAAM,GAAG,EAAf;MACA,IAAMJ,cAAc,GAAG,KAAKC,iBAAL,EAAvB;;MAEA,KAAK,IAAIf,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGc,cAAc,CAACb,MAA3C,EAAmDD,KAAK,EAAxD,EAA4D;QAC1DkB,MAAM,CAACb,IAAP,eAAMC,mBAASQ,cAAc,CAACd,KAAD,CAAd,CAAsBmB,6BAAtB,EAAT,CAAN;MACD;;MAED,OAAOD,MAAP;IAdK;IAgBPC,6BAhBO,2CAgBsB;MAC3B,IAAMD,MAAM,GAAG,CAAC,KAAKE,GAAN,CAAf;MACA,IAAI,KAAKC,KAAL,CAAWC,OAAf,EAAwBJ,MAAM,CAACb,IAAP,CAAY,KAAKgB,KAAL,CAAWC,OAAvB;MACxB,IAAI,KAAKC,OAAT,EAAkBL,MAAM,CAACb,IAAP,CAAY,KAAKkB,OAAL,CAAaH,GAAzB;MAClBF,MAAM,CAACb,IAAP,eAAMC,mBAAS,KAAKW,wBAAL,EAAT,CAAN;MAEA,OAAOC,MAAP;IACD;EAvBM;AAtB6B,CAAzB","names":["searchChildren","children","results","index","length","child","isActive","isDependent","push","_toConsumableArray","$children","extend","name","data","closeDependents","watch","val","openDependents","getOpenDependents","methods","getOpenDependentElements","result","getClickableDependentElements","$el","$refs","content","overlay"],"sourceRoot":"","sources":["../../../src/mixins/dependent/index.ts"],"sourcesContent":["import Vue from 'vue'\n\nimport mixins from '../../util/mixins'\nimport { VOverlay } from '../../components/VOverlay'\n\ninterface options extends Vue {\n  $el: HTMLElement\n  $refs: {\n    content: HTMLElement\n  }\n  overlay?: InstanceType<typeof VOverlay>\n}\n\ninterface DependentInstance extends Vue {\n  isActive?: boolean\n  isDependent?: boolean\n}\n\nfunction searchChildren (children: Vue[]): DependentInstance[] {\n  const results = []\n  for (let index = 0; index < children.length; index++) {\n    const child = children[index] as DependentInstance\n    if (child.isActive && child.isDependent) {\n      results.push(child)\n    } else {\n      results.push(...searchChildren(child.$children))\n    }\n  }\n\n  return results\n}\n\n/* @vue/component */\nexport default mixins<options>().extend({\n  name: 'dependent',\n\n  data () {\n    return {\n      closeDependents: true,\n      isActive: false,\n      isDependent: true,\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) return\n\n      const openDependents = this.getOpenDependents()\n      for (let index = 0; index < openDependents.length; index++) {\n        openDependents[index].isActive = false\n      }\n    },\n  },\n\n  methods: {\n    getOpenDependents (): any[] {\n      if (this.closeDependents) return searchChildren(this.$children)\n\n      return []\n    },\n    getOpenDependentElements (): HTMLElement[] {\n      const result = []\n      const openDependents = this.getOpenDependents()\n\n      for (let index = 0; index < openDependents.length; index++) {\n        result.push(...openDependents[index].getClickableDependentElements())\n      }\n\n      return result\n    },\n    getClickableDependentElements (): HTMLElement[] {\n      const result = [this.$el]\n      if (this.$refs.content) result.push(this.$refs.content)\n      if (this.overlay) result.push(this.overlay.$el as HTMLElement)\n      result.push(...this.getOpenDependentElements())\n\n      return result\n    },\n  },\n})\n"]},"metadata":{},"sourceType":"script"}