{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.string.includes.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _helpers = require(\"../../util/helpers\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n/* @vue/component */\n\n\nvar _default = _vue.default.extend().extend({\n  name: 'stackable',\n  data: function data() {\n    return {\n      stackElement: null,\n      stackExclude: null,\n      stackMinZIndex: 0,\n      isActive: false\n    };\n  },\n  computed: {\n    activeZIndex: function activeZIndex() {\n      if (typeof window === 'undefined') return 0;\n      var content = this.stackElement || this.$refs.content; // Return current zindex if not active\n\n      var index = !this.isActive ? (0, _helpers.getZIndex)(content) : this.getMaxZIndex(this.stackExclude || [content]) + 2;\n      if (index == null) return index; // Return max current z-index (excluding self) + 2\n      // (2 to leave room for an overlay below, if needed)\n\n      return parseInt(index);\n    }\n  },\n  methods: {\n    getMaxZIndex: function getMaxZIndex() {\n      var exclude = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var base = this.$el; // Start with lowest allowed z-index or z-index of\n      // base component's element, whichever is greater\n\n      var zis = [this.stackMinZIndex, (0, _helpers.getZIndex)(base)]; // Convert the NodeList to an array to\n      // prevent an Edge bug with Symbol.iterator\n      // https://github.com/vuetifyjs/vuetify/issues/2146\n\n      var activeElements = [].concat(_toConsumableArray(document.getElementsByClassName('v-menu__content--active')), _toConsumableArray(document.getElementsByClassName('v-dialog__content--active'))); // Get z-index for all active dialogs\n\n      for (var index = 0; index < activeElements.length; index++) {\n        if (!exclude.includes(activeElements[index])) {\n          zis.push((0, _helpers.getZIndex)(activeElements[index]));\n        }\n      }\n\n      return Math.max.apply(Math, zis);\n    }\n  }\n});\n\nexports.default = _default;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA;;;eACeA,aAAIC,MAAJ,GAAsBA,MAAtB,CAA6B;EAC1CC,IAAI,EAAE,WADoC;EAG1CC,IAH0C,kBAGtC;IACF,OAAO;MACLC,YAAY,EAAE,IADT;MAELC,YAAY,EAAE,IAFT;MAGLC,cAAc,EAAE,CAHX;MAILC,QAAQ,EAAE;IAJL,CAAP;EAJwC;EAW1CC,QAAQ,EAAE;IACRC,YADQ,0BACI;MACV,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC,OAAO,CAAP;MAEnC,IAAMC,OAAO,GAAG,KAAKP,YAAL,IAAqB,KAAKQ,KAAL,CAAWD,OAAhD,CAHU,CAIV;;MAEA,IAAME,KAAK,GAAG,CAAC,KAAKN,QAAN,GACV,wBAAUI,OAAV,CADU,GAEV,KAAKG,YAAL,CAAkB,KAAKT,YAAL,IAAqB,CAACM,OAAD,CAAvC,IAAoD,CAFxD;MAIA,IAAIE,KAAK,IAAI,IAAb,EAAmB,OAAOA,KAAP,CAVT,CAYV;MACA;;MACA,OAAOE,QAAQ,CAACF,KAAD,CAAf;IACD;EAhBO,CAXgC;EA6B1CG,OAAO,EAAE;IACPF,YADO,0BAC8B;MAAA,IAAvBG,OAAuB,uEAAF,EAAE;MACnC,IAAMC,IAAI,GAAG,KAAKC,GAAlB,CADmC,CAEnC;MACA;;MACA,IAAMC,GAAG,GAAG,CAAC,KAAKd,cAAN,EAAsB,wBAAUY,IAAV,CAAtB,CAAZ,CAJmC,CAKnC;MACA;MACA;;MACA,IAAMG,cAAc,gCACfC,QAAQ,CAACC,sBAAT,CAAgC,yBAAhC,CADe,sBAEfD,QAAQ,CAACC,sBAAT,CAAgC,2BAAhC,CAFe,EAApB,CARmC,CAanC;;MACA,KAAK,IAAIV,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGQ,cAAc,CAACG,MAA3C,EAAmDX,KAAK,EAAxD,EAA4D;QAC1D,IAAI,CAACI,OAAO,CAACQ,QAAR,CAAiBJ,cAAc,CAACR,KAAD,CAA/B,CAAL,EAA8C;UAC5CO,GAAG,CAACM,IAAJ,CAAS,wBAAUL,cAAc,CAACR,KAAD,CAAxB,CAAT;QACD;MACF;;MAED,OAAOc,IAAI,CAACC,GAAL,aAAYR,GAAZ,CAAP;IACD;EAtBM;AA7BiC,CAA7B","names":["_vue","extend","name","data","stackElement","stackExclude","stackMinZIndex","isActive","computed","activeZIndex","window","content","$refs","index","getMaxZIndex","parseInt","methods","exclude","base","$el","zis","activeElements","document","getElementsByClassName","length","includes","push","Math","max"],"sourceRoot":"","sources":["../../../src/mixins/stackable/index.ts"],"sourcesContent":["import Vue from 'vue'\n\nimport { getZIndex } from '../../util/helpers'\n\ninterface options extends Vue {\n  $refs: {\n    content: Element\n  }\n}\n\n/* @vue/component */\nexport default Vue.extend<options>().extend({\n  name: 'stackable',\n\n  data () {\n    return {\n      stackElement: null as Element | null,\n      stackExclude: null as Element[] | null,\n      stackMinZIndex: 0,\n      isActive: false,\n    }\n  },\n  computed: {\n    activeZIndex (): number {\n      if (typeof window === 'undefined') return 0\n\n      const content = this.stackElement || this.$refs.content\n      // Return current zindex if not active\n\n      const index = !this.isActive\n        ? getZIndex(content)\n        : this.getMaxZIndex(this.stackExclude || [content]) + 2\n\n      if (index == null) return index\n\n      // Return max current z-index (excluding self) + 2\n      // (2 to leave room for an overlay below, if needed)\n      return parseInt(index)\n    },\n  },\n  methods: {\n    getMaxZIndex (exclude: Element[] = []) {\n      const base = this.$el\n      // Start with lowest allowed z-index or z-index of\n      // base component's element, whichever is greater\n      const zis = [this.stackMinZIndex, getZIndex(base)]\n      // Convert the NodeList to an array to\n      // prevent an Edge bug with Symbol.iterator\n      // https://github.com/vuetifyjs/vuetify/issues/2146\n      const activeElements = [\n        ...document.getElementsByClassName('v-menu__content--active'),\n        ...document.getElementsByClassName('v-dialog__content--active'),\n      ]\n\n      // Get z-index for all active dialogs\n      for (let index = 0; index < activeElements.length; index++) {\n        if (!exclude.includes(activeElements[index])) {\n          zis.push(getZIndex(activeElements[index]))\n        }\n      }\n\n      return Math.max(...zis)\n    },\n  },\n})\n"]},"metadata":{},"sourceType":"script"}