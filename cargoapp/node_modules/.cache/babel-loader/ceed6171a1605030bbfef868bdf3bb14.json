{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSimpleTransition = createSimpleTransition;\nexports.createJavascriptTransition = createJavascriptTransition;\n\nvar _mergeData = _interopRequireDefault(require(\"../../util/mergeData\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction mergeTransitions() {\n  var _Array;\n\n  var dest = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _len = arguments.length, transitions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    transitions[_key - 1] = arguments[_key];\n  }\n  /* eslint-disable-next-line no-array-constructor */\n\n\n  return (_Array = Array()).concat.apply(_Array, [dest].concat(transitions));\n}\n\nfunction createSimpleTransition(name) {\n  var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top center 0';\n  var mode = arguments.length > 2 ? arguments[2] : undefined;\n  return {\n    name: name,\n    functional: true,\n    props: {\n      group: {\n        type: Boolean,\n        default: false\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false\n      },\n      mode: {\n        type: String,\n        default: mode\n      },\n      origin: {\n        type: String,\n        default: origin\n      }\n    },\n    render: function render(h, context) {\n      var tag = \"transition\".concat(context.props.group ? '-group' : '');\n      var data = {\n        props: {\n          name: name,\n          mode: context.props.mode\n        },\n        on: {\n          beforeEnter: function beforeEnter(el) {\n            el.style.transformOrigin = context.props.origin;\n            el.style.webkitTransformOrigin = context.props.origin;\n          }\n        }\n      };\n\n      if (context.props.leaveAbsolute) {\n        data.on.leave = mergeTransitions(data.on.leave, function (el) {\n          var offsetTop = el.offsetTop,\n              offsetLeft = el.offsetLeft,\n              offsetWidth = el.offsetWidth,\n              offsetHeight = el.offsetHeight;\n          el._transitionInitialStyles = {\n            position: el.style.position,\n            top: el.style.top,\n            left: el.style.left,\n            width: el.style.width,\n            height: el.style.height\n          };\n          el.style.position = 'absolute';\n          el.style.top = offsetTop + 'px';\n          el.style.left = offsetLeft + 'px';\n          el.style.width = offsetWidth + 'px';\n          el.style.height = offsetHeight + 'px';\n        });\n        data.on.afterLeave = mergeTransitions(data.on.afterLeave, function (el) {\n          if (el && el._transitionInitialStyles) {\n            var _el$_transitionInitia = el._transitionInitialStyles,\n                position = _el$_transitionInitia.position,\n                top = _el$_transitionInitia.top,\n                left = _el$_transitionInitia.left,\n                width = _el$_transitionInitia.width,\n                height = _el$_transitionInitia.height;\n            delete el._transitionInitialStyles;\n            el.style.position = position || '';\n            el.style.top = top || '';\n            el.style.left = left || '';\n            el.style.width = width || '';\n            el.style.height = height || '';\n          }\n        });\n      }\n\n      if (context.props.hideOnLeave) {\n        data.on.leave = mergeTransitions(data.on.leave, function (el) {\n          el.style.setProperty('display', 'none', 'important');\n        });\n      }\n\n      return h(tag, (0, _mergeData.default)(context.data, data), context.children);\n    }\n  };\n}\n\nfunction createJavascriptTransition(name, functions) {\n  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'in-out';\n  return {\n    name: name,\n    functional: true,\n    props: {\n      mode: {\n        type: String,\n        default: mode\n      }\n    },\n    render: function render(h, context) {\n      return h('transition', (0, _mergeData.default)(context.data, {\n        props: {\n          name: name\n        },\n        on: functions\n      }), context.children);\n    }\n  };\n}","map":{"version":3,"mappings":"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","names":["mergeTransitions","dest","transitions","arguments","concat","createSimpleTransition","name","origin","mode","functional","props","group","type","Boolean","default","hideOnLeave","leaveAbsolute","String","render","h","context","tag","data","on","beforeEnter","el","style","transformOrigin","webkitTransformOrigin","leave","offsetTop","offsetLeft","offsetWidth","offsetHeight","_transitionInitialStyles","position","top","left","width","height","afterLeave","setProperty","children","createJavascriptTransition","functions"],"sourceRoot":"","sources":["../../../src/components/transitions/createTransition.ts"],"sourcesContent":["import { FunctionalComponentOptions, VNode, VNodeData } from 'vue'\nimport mergeData from '../../util/mergeData'\n\nfunction mergeTransitions (\n  dest: Function | Function[] = [],\n  ...transitions: (Function | Function[])[]\n) {\n  /* eslint-disable-next-line no-array-constructor */\n  return Array<Function>().concat(dest, ...transitions)\n}\n\nexport function createSimpleTransition (\n  name: string,\n  origin = 'top center 0',\n  mode?: string\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      group: {\n        type: Boolean,\n        default: false,\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false,\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false,\n      },\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    render (h, context): VNode {\n      const tag = `transition${context.props.group ? '-group' : ''}`\n      const data: VNodeData = {\n        props: {\n          name,\n          mode: context.props.mode,\n        },\n        on: {\n          beforeEnter (el: HTMLElement) {\n            el.style.transformOrigin = context.props.origin\n            el.style.webkitTransformOrigin = context.props.origin\n          },\n        },\n      }\n\n      if (context.props.leaveAbsolute) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = el\n          el._transitionInitialStyles = {\n            position: el.style.position,\n            top: el.style.top,\n            left: el.style.left,\n            width: el.style.width,\n            height: el.style.height,\n          }\n          el.style.position = 'absolute'\n          el.style.top = offsetTop + 'px'\n          el.style.left = offsetLeft + 'px'\n          el.style.width = offsetWidth + 'px'\n          el.style.height = offsetHeight + 'px'\n        })\n        data.on!.afterLeave = mergeTransitions(data.on!.afterLeave, (el?: HTMLElement) => {\n          if (el && el._transitionInitialStyles) {\n            const { position, top, left, width, height } = el._transitionInitialStyles\n            delete el._transitionInitialStyles\n            el.style.position = position || ''\n            el.style.top = top || ''\n            el.style.left = left || ''\n            el.style.width = width || ''\n            el.style.height = height || ''\n          }\n        })\n      }\n      if (context.props.hideOnLeave) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          el.style.setProperty('display', 'none', 'important')\n        })\n      }\n\n      return h(tag, mergeData(context.data, data), context.children)\n    },\n  }\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      mode: {\n        type: String,\n        default: mode,\n      },\n    },\n\n    render (h, context): VNode {\n      return h(\n        'transition',\n        mergeData(context.data, {\n          props: { name },\n          on: functions,\n        }),\n        context.children\n      )\n    },\n  }\n}\n"]},"metadata":{},"sourceType":"script"}