{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\n\nrequire(\"core-js/modules/es.object.values.js\");\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.string.includes.js\");\n\nrequire(\"core-js/modules/es.array.find-index.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _VData = require(\"../VData\");\n\nvar _VDataFooter = _interopRequireDefault(require(\"./VDataFooter\"));\n\nvar _mobile = _interopRequireDefault(require(\"../../mixins/mobile\"));\n\nvar _themeable = _interopRequireDefault(require(\"../../mixins/themeable\"));\n\nvar _mixins = _interopRequireDefault(require(\"../../util/mixins\"));\n\nvar _helpers = require(\"../../util/helpers\");\n\nvar _console = require(\"../../util/console\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/* @vue/component */\n\n\nvar _default2 = (0, _mixins.default)(_mobile.default, _themeable.default).extend({\n  name: 'v-data-iterator',\n  props: _objectSpread(_objectSpread({}, _VData.VData.options.props), {}, {\n    itemKey: {\n      type: String,\n      default: 'id'\n    },\n    value: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    singleSelect: Boolean,\n    expanded: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    mobileBreakpoint: _objectSpread(_objectSpread({}, _mobile.default.options.props.mobileBreakpoint), {}, {\n      default: 600\n    }),\n    singleExpand: Boolean,\n    loading: [Boolean, String],\n    noResultsText: {\n      type: String,\n      default: '$vuetify.dataIterator.noResultsText'\n    },\n    noDataText: {\n      type: String,\n      default: '$vuetify.noDataText'\n    },\n    loadingText: {\n      type: String,\n      default: '$vuetify.dataIterator.loadingText'\n    },\n    hideDefaultFooter: Boolean,\n    footerProps: Object,\n    selectableKey: {\n      type: String,\n      default: 'isSelectable'\n    }\n  }),\n  data: function data() {\n    return {\n      selection: {},\n      expansion: {},\n      internalCurrentItems: [],\n      shiftKeyDown: false,\n      lastEntry: -1\n    };\n  },\n  computed: {\n    everyItem: function everyItem() {\n      var _this = this;\n\n      return !!this.selectableItems.length && this.selectableItems.every(function (i) {\n        return _this.isSelected(i);\n      });\n    },\n    someItems: function someItems() {\n      var _this2 = this;\n\n      return this.selectableItems.some(function (i) {\n        return _this2.isSelected(i);\n      });\n    },\n    sanitizedFooterProps: function sanitizedFooterProps() {\n      return (0, _helpers.camelizeObjectKeys)(this.footerProps);\n    },\n    selectableItems: function selectableItems() {\n      var _this3 = this;\n\n      return this.internalCurrentItems.filter(function (item) {\n        return _this3.isSelectable(item);\n      });\n    }\n  },\n  watch: {\n    value: {\n      handler: function handler(value) {\n        var _this4 = this;\n\n        this.selection = value.reduce(function (selection, item) {\n          selection[(0, _helpers.getObjectValueByPath)(item, _this4.itemKey)] = item;\n          return selection;\n        }, {});\n      },\n      immediate: true\n    },\n    selection: function selection(value, old) {\n      if ((0, _helpers.deepEqual)(Object.keys(value), Object.keys(old))) return;\n      this.$emit('input', Object.values(value));\n    },\n    expanded: {\n      handler: function handler(value) {\n        var _this5 = this;\n\n        this.expansion = value.reduce(function (expansion, item) {\n          expansion[(0, _helpers.getObjectValueByPath)(item, _this5.itemKey)] = true;\n          return expansion;\n        }, {});\n      },\n      immediate: true\n    },\n    expansion: function expansion(value, old) {\n      var _this6 = this;\n\n      if ((0, _helpers.deepEqual)(value, old)) return;\n      var keys = Object.keys(value).filter(function (k) {\n        return value[k];\n      });\n      var expanded = !keys.length ? [] : this.items.filter(function (i) {\n        return keys.includes(String((0, _helpers.getObjectValueByPath)(i, _this6.itemKey)));\n      });\n      this.$emit('update:expanded', expanded);\n    }\n  },\n  created: function created() {\n    var _this7 = this;\n\n    var breakingProps = [['disable-initial-sort', 'sort-by'], ['filter', 'custom-filter'], ['pagination', 'options'], ['total-items', 'server-items-length'], ['hide-actions', 'hide-default-footer'], ['rows-per-page-items', 'footer-props.items-per-page-options'], ['rows-per-page-text', 'footer-props.items-per-page-text'], ['prev-icon', 'footer-props.prev-icon'], ['next-icon', 'footer-props.next-icon']];\n    /* istanbul ignore next */\n\n    breakingProps.forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          original = _ref2[0],\n          replacement = _ref2[1];\n\n      if (_this7.$attrs.hasOwnProperty(original)) (0, _console.breaking)(original, replacement, _this7);\n    });\n    var removedProps = ['expand', 'content-class', 'content-props', 'content-tag'];\n    /* istanbul ignore next */\n\n    removedProps.forEach(function (prop) {\n      if (_this7.$attrs.hasOwnProperty(prop)) (0, _console.removed)(prop);\n    });\n  },\n  mounted: function mounted() {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  },\n  methods: {\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode !== _helpers.keyCodes.shift) return;\n      this.shiftKeyDown = true;\n    },\n    onKeyUp: function onKeyUp(e) {\n      if (e.keyCode !== _helpers.keyCodes.shift) return;\n      this.shiftKeyDown = false;\n    },\n    toggleSelectAll: function toggleSelectAll(value) {\n      var selection = Object.assign({}, this.selection);\n\n      for (var i = 0; i < this.selectableItems.length; i++) {\n        var item = this.selectableItems[i];\n        if (!this.isSelectable(item)) continue;\n        var key = (0, _helpers.getObjectValueByPath)(item, this.itemKey);\n        if (value) selection[key] = item;else delete selection[key];\n      }\n\n      this.selection = selection;\n      this.$emit('toggle-select-all', {\n        items: this.internalCurrentItems,\n        value: value\n      });\n    },\n    isSelectable: function isSelectable(item) {\n      return (0, _helpers.getObjectValueByPath)(item, this.selectableKey) !== false;\n    },\n    isSelected: function isSelected(item) {\n      return !!this.selection[(0, _helpers.getObjectValueByPath)(item, this.itemKey)] || false;\n    },\n    select: function select(item) {\n      var _this8 = this;\n\n      var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var emit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (!this.isSelectable(item)) return;\n      var selection = this.singleSelect ? {} : Object.assign({}, this.selection);\n      var key = (0, _helpers.getObjectValueByPath)(item, this.itemKey);\n      if (value) selection[key] = item;else delete selection[key];\n      var index = this.selectableItems.findIndex(function (x) {\n        return (0, _helpers.getObjectValueByPath)(x, _this8.itemKey) === key;\n      });\n      if (this.lastEntry === -1) this.lastEntry = index;else if (this.shiftKeyDown && !this.singleSelect && emit) {\n        var lastEntryKey = (0, _helpers.getObjectValueByPath)(this.selectableItems[this.lastEntry], this.itemKey);\n        var lastEntryKeySelected = Object.keys(this.selection).includes(String(lastEntryKey));\n        this.multipleSelect(lastEntryKeySelected, emit, selection, index);\n      }\n      this.lastEntry = index;\n\n      if (this.singleSelect && emit) {\n        var keys = Object.keys(this.selection);\n        var old = keys.length && (0, _helpers.getObjectValueByPath)(this.selection[keys[0]], this.itemKey);\n        old && old !== key && this.$emit('item-selected', {\n          item: this.selection[old],\n          value: false\n        });\n      }\n\n      this.selection = selection;\n      emit && this.$emit('item-selected', {\n        item: item,\n        value: value\n      });\n    },\n    multipleSelect: function multipleSelect() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var emit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var selection = arguments.length > 2 ? arguments[2] : undefined;\n      var index = arguments.length > 3 ? arguments[3] : undefined;\n      var start = index < this.lastEntry ? index : this.lastEntry;\n      var end = index < this.lastEntry ? this.lastEntry : index;\n\n      for (var i = start; i <= end; i++) {\n        var currentItem = this.selectableItems[i];\n        var key = (0, _helpers.getObjectValueByPath)(currentItem, this.itemKey);\n        if (value) selection[key] = currentItem;else delete selection[key];\n        emit && this.$emit('item-selected', {\n          currentItem: currentItem,\n          value: value\n        });\n      }\n    },\n    isExpanded: function isExpanded(item) {\n      return this.expansion[(0, _helpers.getObjectValueByPath)(item, this.itemKey)] || false;\n    },\n    expand: function expand(item) {\n      var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var expansion = this.singleExpand ? {} : Object.assign({}, this.expansion);\n      var key = (0, _helpers.getObjectValueByPath)(item, this.itemKey);\n      if (value) expansion[key] = true;else delete expansion[key];\n      this.expansion = expansion;\n      this.$emit('item-expanded', {\n        item: item,\n        value: value\n      });\n    },\n    createItemProps: function createItemProps(item, index) {\n      var _this9 = this;\n\n      return {\n        item: item,\n        index: index,\n        select: function select(v) {\n          return _this9.select(item, v);\n        },\n        isSelected: this.isSelected(item),\n        expand: function expand(v) {\n          return _this9.expand(item, v);\n        },\n        isExpanded: this.isExpanded(item),\n        isMobile: this.isMobile\n      };\n    },\n    genEmptyWrapper: function genEmptyWrapper(content) {\n      return this.$createElement('div', content);\n    },\n    genEmpty: function genEmpty(originalItemsLength, filteredItemsLength) {\n      if (originalItemsLength === 0 && this.loading) {\n        var loading = this.$slots.loading || this.$vuetify.lang.t(this.loadingText);\n        return this.genEmptyWrapper(loading);\n      } else if (originalItemsLength === 0) {\n        var noData = this.$slots['no-data'] || this.$vuetify.lang.t(this.noDataText);\n        return this.genEmptyWrapper(noData);\n      } else if (filteredItemsLength === 0) {\n        var noResults = this.$slots['no-results'] || this.$vuetify.lang.t(this.noResultsText);\n        return this.genEmptyWrapper(noResults);\n      }\n\n      return null;\n    },\n    genItems: function genItems(props) {\n      var _this10 = this;\n\n      var empty = this.genEmpty(props.originalItemsLength, props.pagination.itemsLength);\n      if (empty) return [empty];\n\n      if (this.$scopedSlots.default) {\n        return this.$scopedSlots.default(_objectSpread(_objectSpread({}, props), {}, {\n          isSelected: this.isSelected,\n          select: this.select,\n          isExpanded: this.isExpanded,\n          isMobile: this.isMobile,\n          expand: this.expand\n        }));\n      }\n\n      if (this.$scopedSlots.item) {\n        return props.items.map(function (item, index) {\n          return _this10.$scopedSlots.item(_this10.createItemProps(item, index));\n        });\n      }\n\n      return [];\n    },\n    genFooter: function genFooter(props) {\n      if (this.hideDefaultFooter) return null;\n      var data = {\n        props: _objectSpread(_objectSpread({}, this.sanitizedFooterProps), {}, {\n          options: props.options,\n          pagination: props.pagination\n        }),\n        on: {\n          'update:options': function updateOptions(value) {\n            return props.updateOptions(value);\n          }\n        }\n      };\n      var scopedSlots = (0, _helpers.getPrefixedScopedSlots)('footer.', this.$scopedSlots);\n      return this.$createElement(_VDataFooter.default, _objectSpread({\n        scopedSlots: scopedSlots\n      }, data));\n    },\n    genDefaultScopedSlot: function genDefaultScopedSlot(props) {\n      var outerProps = _objectSpread(_objectSpread({}, props), {}, {\n        someItems: this.someItems,\n        everyItem: this.everyItem,\n        toggleSelectAll: this.toggleSelectAll\n      });\n\n      return this.$createElement('div', {\n        staticClass: 'v-data-iterator'\n      }, [(0, _helpers.getSlot)(this, 'header', outerProps, true), this.genItems(props), this.genFooter(props), (0, _helpers.getSlot)(this, 'footer', outerProps, true)]);\n    }\n  },\n  render: function render() {\n    var _this11 = this;\n\n    return this.$createElement(_VData.VData, {\n      props: this.$props,\n      on: {\n        'update:options': function updateOptions(v, old) {\n          return !(0, _helpers.deepEqual)(v, old) && _this11.$emit('update:options', v);\n        },\n        'update:page': function updatePage(v) {\n          return _this11.$emit('update:page', v);\n        },\n        'update:items-per-page': function updateItemsPerPage(v) {\n          return _this11.$emit('update:items-per-page', v);\n        },\n        'update:sort-by': function updateSortBy(v) {\n          return _this11.$emit('update:sort-by', v);\n        },\n        'update:sort-desc': function updateSortDesc(v) {\n          return _this11.$emit('update:sort-desc', v);\n        },\n        'update:group-by': function updateGroupBy(v) {\n          return _this11.$emit('update:group-by', v);\n        },\n        'update:group-desc': function updateGroupDesc(v) {\n          return _this11.$emit('update:group-desc', v);\n        },\n        pagination: function pagination(v, old) {\n          return !(0, _helpers.deepEqual)(v, old) && _this11.$emit('pagination', v);\n        },\n        'current-items': function currentItems(v) {\n          _this11.internalCurrentItems = v;\n\n          _this11.$emit('current-items', v);\n        },\n        'page-count': function pageCount(v) {\n          return _this11.$emit('page-count', v);\n        }\n      },\n      scopedSlots: {\n        default: this.genDefaultScopedSlot\n      }\n    });\n  }\n});\n\nexports.default = _default2;","map":{"version":3,"mappings":"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","names":["_mobile","_themeable","extend","name","props","_VData","options","itemKey","type","String","default","value","Array","singleSelect","Boolean","expanded","mobileBreakpoint","singleExpand","loading","noResultsText","noDataText","loadingText","hideDefaultFooter","footerProps","Object","selectableKey","data","selection","expansion","internalCurrentItems","shiftKeyDown","lastEntry","computed","everyItem","selectableItems","length","every","i","_this","isSelected","someItems","some","_this2","sanitizedFooterProps","filter","_this3","isSelectable","item","watch","handler","reduce","_this4","immediate","old","keys","$emit","values","_this5","k","items","includes","_this6","created","breakingProps","forEach","original","replacement","_this7","$attrs","hasOwnProperty","removedProps","prop","mounted","window","addEventListener","onKeyDown","onKeyUp","beforeDestroy","removeEventListener","methods","e","keyCode","_helpers","shift","toggleSelectAll","assign","key","select","emit","index","findIndex","x","_this8","lastEntryKey","lastEntryKeySelected","multipleSelect","start","end","currentItem","isExpanded","expand","createItemProps","v","_this9","isMobile","genEmptyWrapper","content","$createElement","genEmpty","originalItemsLength","filteredItemsLength","$slots","$vuetify","lang","t","noData","noResults","genItems","empty","pagination","itemsLength","$scopedSlots","map","_this10","genFooter","on","updateOptions","scopedSlots","_VDataFooter","genDefaultScopedSlot","outerProps","staticClass","render","$props","_this11"],"sourceRoot":"","sources":["../../../src/components/VDataIterator/VDataIterator.ts"],"sourcesContent":["// Components\nimport { VData } from '../VData'\nimport VDataFooter from './VDataFooter'\n\n// Mixins\nimport Mobile from '../../mixins/mobile'\nimport Themeable from '../../mixins/themeable'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { deepEqual, getObjectValueByPath, getPrefixedScopedSlots, getSlot, camelizeObjectKeys, keyCodes } from '../../util/helpers'\nimport { breaking, removed } from '../../util/console'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { DataItemProps, DataScopeProps } from 'vuetify/types'\n\n/* @vue/component */\nexport default mixins(\n  Mobile,\n  Themeable\n).extend({\n  name: 'v-data-iterator',\n\n  props: {\n    ...VData.options.props, // TODO: filter out props not used\n    itemKey: {\n      type: String,\n      default: 'id',\n    },\n    value: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    singleSelect: Boolean,\n    expanded: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    mobileBreakpoint: {\n      ...Mobile.options.props.mobileBreakpoint,\n      default: 600,\n    },\n    singleExpand: Boolean,\n    loading: [Boolean, String],\n    noResultsText: {\n      type: String,\n      default: '$vuetify.dataIterator.noResultsText',\n    },\n    noDataText: {\n      type: String,\n      default: '$vuetify.noDataText',\n    },\n    loadingText: {\n      type: String,\n      default: '$vuetify.dataIterator.loadingText',\n    },\n    hideDefaultFooter: Boolean,\n    footerProps: Object,\n    selectableKey: {\n      type: String,\n      default: 'isSelectable',\n    },\n  },\n\n  data: () => ({\n    selection: {} as Record<string, any>,\n    expansion: {} as Record<string, boolean>,\n    internalCurrentItems: [] as any[],\n    shiftKeyDown: false,\n    lastEntry: -1,\n  }),\n\n  computed: {\n    everyItem (): boolean {\n      return !!this.selectableItems.length && this.selectableItems.every((i: any) => this.isSelected(i))\n    },\n    someItems (): boolean {\n      return this.selectableItems.some((i: any) => this.isSelected(i))\n    },\n    sanitizedFooterProps (): Record<string, any> {\n      return camelizeObjectKeys(this.footerProps)\n    },\n    selectableItems (): any[] {\n      return this.internalCurrentItems.filter(item => this.isSelectable(item))\n    },\n  },\n\n  watch: {\n    value: {\n      handler (value: any[]) {\n        this.selection = value.reduce((selection, item) => {\n          selection[getObjectValueByPath(item, this.itemKey)] = item\n          return selection\n        }, {})\n      },\n      immediate: true,\n    },\n    selection (value: Record<string, boolean>, old: Record<string, boolean>) {\n      if (deepEqual(Object.keys(value), Object.keys(old))) return\n\n      this.$emit('input', Object.values(value))\n    },\n    expanded: {\n      handler (value: any[]) {\n        this.expansion = value.reduce((expansion, item) => {\n          expansion[getObjectValueByPath(item, this.itemKey)] = true\n          return expansion\n        }, {})\n      },\n      immediate: true,\n    },\n    expansion (value: Record<string, boolean>, old: Record<string, boolean>) {\n      if (deepEqual(value, old)) return\n      const keys = Object.keys(value).filter(k => value[k])\n      const expanded = !keys.length ? [] : this.items.filter(i => keys.includes(String(getObjectValueByPath(i, this.itemKey))))\n      this.$emit('update:expanded', expanded)\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['disable-initial-sort', 'sort-by'],\n      ['filter', 'custom-filter'],\n      ['pagination', 'options'],\n      ['total-items', 'server-items-length'],\n      ['hide-actions', 'hide-default-footer'],\n      ['rows-per-page-items', 'footer-props.items-per-page-options'],\n      ['rows-per-page-text', 'footer-props.items-per-page-text'],\n      ['prev-icon', 'footer-props.prev-icon'],\n      ['next-icon', 'footer-props.next-icon'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n\n    const removedProps = [\n      'expand',\n      'content-class',\n      'content-props',\n      'content-tag',\n    ]\n\n    /* istanbul ignore next */\n    removedProps.forEach(prop => {\n      if (this.$attrs.hasOwnProperty(prop)) removed(prop)\n    })\n  },\n\n  mounted () {\n    window.addEventListener('keydown', this.onKeyDown)\n    window.addEventListener('keyup', this.onKeyUp)\n  },\n  beforeDestroy () {\n    window.removeEventListener('keydown', this.onKeyDown)\n    window.removeEventListener('keyup', this.onKeyUp)\n  },\n\n  methods: {\n    onKeyDown (e: KeyboardEvent): void {\n      if (e.keyCode !== keyCodes.shift) return\n      this.shiftKeyDown = true\n    },\n    onKeyUp (e: KeyboardEvent): void {\n      if (e.keyCode !== keyCodes.shift) return\n      this.shiftKeyDown = false\n    },\n    toggleSelectAll (value: boolean): void {\n      const selection = Object.assign({}, this.selection)\n\n      for (let i = 0; i < this.selectableItems.length; i++) {\n        const item = this.selectableItems[i]\n\n        if (!this.isSelectable(item)) continue\n\n        const key = getObjectValueByPath(item, this.itemKey)\n        if (value) selection[key] = item\n        else delete selection[key]\n      }\n\n      this.selection = selection\n      this.$emit('toggle-select-all', { items: this.internalCurrentItems, value })\n    },\n    isSelectable (item: any): boolean {\n      return getObjectValueByPath(item, this.selectableKey) !== false\n    },\n    isSelected (item: any): boolean {\n      return !!this.selection[getObjectValueByPath(item, this.itemKey)] || false\n    },\n    select (item: any, value = true, emit = true): void {\n      if (!this.isSelectable(item)) return\n\n      const selection = this.singleSelect ? {} : Object.assign({}, this.selection)\n      const key = getObjectValueByPath(item, this.itemKey)\n\n      if (value) selection[key] = item\n      else delete selection[key]\n\n      const index = this.selectableItems.findIndex(x => getObjectValueByPath(x, this.itemKey) === key)\n      if (this.lastEntry === -1) this.lastEntry = index\n      else if (this.shiftKeyDown && !this.singleSelect && emit) {\n        const lastEntryKey = getObjectValueByPath(this.selectableItems[this.lastEntry], this.itemKey)\n        const lastEntryKeySelected = Object.keys(this.selection).includes(String(lastEntryKey))\n        this.multipleSelect(lastEntryKeySelected, emit, selection, index)\n      }\n      this.lastEntry = index\n\n      if (this.singleSelect && emit) {\n        const keys = Object.keys(this.selection)\n        const old = keys.length && getObjectValueByPath(this.selection[keys[0]], this.itemKey)\n        old && old !== key && this.$emit('item-selected', { item: this.selection[old], value: false })\n      }\n      this.selection = selection\n      emit && this.$emit('item-selected', { item, value })\n    },\n    multipleSelect (value = true, emit = true, selection: any, index: number): void {\n      const start = index < this.lastEntry ? index : this.lastEntry\n      const end = index < this.lastEntry ? this.lastEntry : index\n      for (let i = start; i <= end; i++) {\n        const currentItem = this.selectableItems[i]\n        const key = getObjectValueByPath(currentItem, this.itemKey)\n        if (value) selection[key] = currentItem\n        else delete selection[key]\n        emit && this.$emit('item-selected', { currentItem, value })\n      }\n    },\n    isExpanded (item: any): boolean {\n      return this.expansion[getObjectValueByPath(item, this.itemKey)] || false\n    },\n    expand (item: any, value = true): void {\n      const expansion = this.singleExpand ? {} : Object.assign({}, this.expansion)\n      const key = getObjectValueByPath(item, this.itemKey)\n\n      if (value) expansion[key] = true\n      else delete expansion[key]\n\n      this.expansion = expansion\n      this.$emit('item-expanded', { item, value })\n    },\n    createItemProps (item: any, index: number): DataItemProps {\n      return {\n        item,\n        index,\n        select: (v: boolean) => this.select(item, v),\n        isSelected: this.isSelected(item),\n        expand: (v: boolean) => this.expand(item, v),\n        isExpanded: this.isExpanded(item),\n        isMobile: this.isMobile,\n      }\n    },\n    genEmptyWrapper (content: VNodeChildren) {\n      return this.$createElement('div', content)\n    },\n    genEmpty (originalItemsLength: number, filteredItemsLength: number) {\n      if (originalItemsLength === 0 && this.loading) {\n        const loading = this.$slots.loading || this.$vuetify.lang.t(this.loadingText)\n        return this.genEmptyWrapper(loading)\n      } else if (originalItemsLength === 0) {\n        const noData = this.$slots['no-data'] || this.$vuetify.lang.t(this.noDataText)\n        return this.genEmptyWrapper(noData)\n      } else if (filteredItemsLength === 0) {\n        const noResults = this.$slots['no-results'] || this.$vuetify.lang.t(this.noResultsText)\n        return this.genEmptyWrapper(noResults)\n      }\n\n      return null\n    },\n    genItems (props: DataScopeProps) {\n      const empty = this.genEmpty(props.originalItemsLength, props.pagination.itemsLength)\n      if (empty) return [empty]\n\n      if (this.$scopedSlots.default) {\n        return this.$scopedSlots.default({\n          ...props,\n          isSelected: this.isSelected,\n          select: this.select,\n          isExpanded: this.isExpanded,\n          isMobile: this.isMobile,\n          expand: this.expand,\n        })\n      }\n\n      if (this.$scopedSlots.item) {\n        return props.items.map((item: any, index) => this.$scopedSlots.item!(this.createItemProps(\n          item,\n          index\n        )))\n      }\n\n      return []\n    },\n    genFooter (props: DataScopeProps) {\n      if (this.hideDefaultFooter) return null\n\n      const data = {\n        props: {\n          ...this.sanitizedFooterProps,\n          options: props.options,\n          pagination: props.pagination,\n        },\n        on: {\n          'update:options': (value: any) => props.updateOptions(value),\n        },\n      }\n\n      const scopedSlots = getPrefixedScopedSlots('footer.', this.$scopedSlots)\n\n      return this.$createElement(VDataFooter, {\n        scopedSlots,\n        ...data,\n      })\n    },\n    genDefaultScopedSlot (props: any) {\n      const outerProps = {\n        ...props,\n        someItems: this.someItems,\n        everyItem: this.everyItem,\n        toggleSelectAll: this.toggleSelectAll,\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-data-iterator',\n      }, [\n        getSlot(this, 'header', outerProps, true),\n        this.genItems(props),\n        this.genFooter(props),\n        getSlot(this, 'footer', outerProps, true),\n      ])\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement(VData, {\n      props: this.$props,\n      on: {\n        'update:options': (v: any, old: any) => !deepEqual(v, old) && this.$emit('update:options', v),\n        'update:page': (v: any) => this.$emit('update:page', v),\n        'update:items-per-page': (v: any) => this.$emit('update:items-per-page', v),\n        'update:sort-by': (v: any) => this.$emit('update:sort-by', v),\n        'update:sort-desc': (v: any) => this.$emit('update:sort-desc', v),\n        'update:group-by': (v: any) => this.$emit('update:group-by', v),\n        'update:group-desc': (v: any) => this.$emit('update:group-desc', v),\n        pagination: (v: any, old: any) => !deepEqual(v, old) && this.$emit('pagination', v),\n        'current-items': (v: any[]) => {\n          this.internalCurrentItems = v\n          this.$emit('current-items', v)\n        },\n        'page-count': (v: number) => this.$emit('page-count', v),\n      },\n      scopedSlots: {\n        default: this.genDefaultScopedSlot,\n      },\n    })\n  },\n})\n"]},"metadata":{},"sourceType":"script"}