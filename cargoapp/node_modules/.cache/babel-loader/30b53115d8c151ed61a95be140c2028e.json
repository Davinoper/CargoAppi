{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseEvent = parseEvent;\nexports.isEventOn = isEventOn;\nexports.isEventHiddenOn = isEventHiddenOn;\nexports.isEventStart = isEventStart;\nexports.isEventOverlapping = isEventOverlapping;\n\nvar _timestamp = require(\"./timestamp\");\n\nfunction parseEvent(input, index, startProperty, endProperty) {\n  var timed = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var category = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var startInput = input[startProperty];\n  var endInput = input[endProperty];\n  var startParsed = (0, _timestamp.parseTimestamp)(startInput, true);\n  var endParsed = endInput ? (0, _timestamp.parseTimestamp)(endInput, true) : startParsed;\n  var start = (0, _timestamp.isTimedless)(startInput) ? (0, _timestamp.updateHasTime)(startParsed, timed) : startParsed;\n  var end = (0, _timestamp.isTimedless)(endInput) ? (0, _timestamp.updateHasTime)(endParsed, timed) : endParsed;\n  var startIdentifier = (0, _timestamp.getDayIdentifier)(start);\n  var startTimestampIdentifier = (0, _timestamp.getTimestampIdentifier)(start);\n  var endIdentifier = (0, _timestamp.getDayIdentifier)(end);\n  var endOffset = start.hasTime ? 0 : 2359;\n  var endTimestampIdentifier = (0, _timestamp.getTimestampIdentifier)(end) + endOffset;\n  var allDay = !start.hasTime;\n  return {\n    input: input,\n    start: start,\n    startIdentifier: startIdentifier,\n    startTimestampIdentifier: startTimestampIdentifier,\n    end: end,\n    endIdentifier: endIdentifier,\n    endTimestampIdentifier: endTimestampIdentifier,\n    allDay: allDay,\n    index: index,\n    category: category\n  };\n}\n\nfunction isEventOn(event, dayIdentifier) {\n  return dayIdentifier >= event.startIdentifier && dayIdentifier <= event.endIdentifier;\n}\n\nfunction isEventHiddenOn(event, day) {\n  return event.end.time === '00:00' && event.end.date === day.date && event.start.date !== day.date;\n}\n\nfunction isEventStart(event, day, dayIdentifier, firstWeekday) {\n  return dayIdentifier === event.startIdentifier || firstWeekday === day.weekday && isEventOn(event, dayIdentifier);\n}\n\nfunction isEventOverlapping(event, startIdentifier, endIdentifier) {\n  return startIdentifier <= event.endIdentifier && endIdentifier >= event.startIdentifier;\n}","map":{"version":3,"mappings":";;;;;;;;;;;AAAA;;AASM,SAAUA,UAAV,CACJC,KADI,EAEJC,KAFI,EAGJC,aAHI,EAIJC,WAJI,EAM4B;EAAA,IADhCC,KACgC,uEADxB,KACwB;EAAA,IAAhCC,QAAgC,uEAAL,KAAK;EAEhC,IAAMC,UAAU,GAAGN,KAAK,CAACE,aAAD,CAAxB;EACA,IAAMK,QAAQ,GAAGP,KAAK,CAACG,WAAD,CAAtB;EACA,IAAMK,WAAW,GAAsB,+BAAeF,UAAf,EAA2B,IAA3B,CAAvC;EACA,IAAMG,SAAS,GAAuBF,QAAQ,GAAG,+BAAeA,QAAf,EAAyB,IAAzB,CAAH,GAAoCC,WAAlF;EACA,IAAME,KAAK,GAAsB,4BAAYJ,UAAZ,IAC7B,8BAAcE,WAAd,EAA2BJ,KAA3B,CAD6B,GAE7BI,WAFJ;EAGA,IAAMG,GAAG,GAAsB,4BAAYJ,QAAZ,IAC3B,8BAAcE,SAAd,EAAyBL,KAAzB,CAD2B,GAE3BK,SAFJ;EAGA,IAAMG,eAAe,GAAW,iCAAiBF,KAAjB,CAAhC;EACA,IAAMG,wBAAwB,GAAW,uCAAuBH,KAAvB,CAAzC;EACA,IAAMI,aAAa,GAAW,iCAAiBH,GAAjB,CAA9B;EACA,IAAMI,SAAS,GAAWL,KAAK,CAACM,OAAN,GAAgB,CAAhB,GAAoB,IAA9C;EACA,IAAMC,sBAAsB,GAAW,uCAAuBN,GAAvB,IAA8BI,SAArE;EACA,IAAMG,MAAM,GAAG,CAACR,KAAK,CAACM,OAAtB;EAEA,OAAO;IAAEhB,KAAK,EAALA,KAAF;IAASU,KAAK,EAALA,KAAT;IAAgBE,eAAe,EAAfA,eAAhB;IAAiCC,wBAAwB,EAAxBA,wBAAjC;IAA2DF,GAAG,EAAHA,GAA3D;IAAgEG,aAAa,EAAbA,aAAhE;IAA+EG,sBAAsB,EAAtBA,sBAA/E;IAAuGC,MAAM,EAANA,MAAvG;IAA+GjB,KAAK,EAALA,KAA/G;IAAsHI,QAAQ,EAARA;EAAtH,CAAP;AACD;;AAEK,SAAUc,SAAV,CAAqBC,KAArB,EAAiDC,aAAjD,EAAsE;EAC1E,OAAOA,aAAa,IAAID,KAAK,CAACR,eAAvB,IAA0CS,aAAa,IAAID,KAAK,CAACN,aAAxE;AACD;;AAEK,SAAUQ,eAAV,CAA2BF,KAA3B,EAAuDG,GAAvD,EAA6E;EACjF,OAAOH,KAAK,CAACT,GAAN,CAAUa,IAAV,KAAmB,OAAnB,IAA8BJ,KAAK,CAACT,GAAN,CAAUc,IAAV,KAAmBF,GAAG,CAACE,IAArD,IAA6DL,KAAK,CAACV,KAAN,CAAYe,IAAZ,KAAqBF,GAAG,CAACE,IAA7F;AACD;;AAEK,SAAUC,YAAV,CAAwBN,KAAxB,EAAoDG,GAApD,EAA4EF,aAA5E,EAAmGM,YAAnG,EAAuH;EAC3H,OAAON,aAAa,KAAKD,KAAK,CAACR,eAAxB,IAA4Ce,YAAY,KAAKJ,GAAG,CAACK,OAArB,IAAgCT,SAAS,CAACC,KAAD,EAAQC,aAAR,CAA5F;AACD;;AAEK,SAAUQ,kBAAV,CAA8BT,KAA9B,EAA0DR,eAA1D,EAAmFE,aAAnF,EAAwG;EAC5G,OAAOF,eAAe,IAAIQ,KAAK,CAACN,aAAzB,IAA0CA,aAAa,IAAIM,KAAK,CAACR,eAAxE;AACD","names":["parseEvent","input","index","startProperty","endProperty","timed","category","startInput","endInput","startParsed","endParsed","start","end","startIdentifier","startTimestampIdentifier","endIdentifier","endOffset","hasTime","endTimestampIdentifier","allDay","isEventOn","event","dayIdentifier","isEventHiddenOn","day","time","date","isEventStart","firstWeekday","weekday","isEventOverlapping"],"sourceRoot":"","sources":["../../../../src/components/VCalendar/util/events.ts"],"sourcesContent":["import {\n  parseTimestamp,\n  getDayIdentifier,\n  getTimestampIdentifier,\n  isTimedless,\n  updateHasTime,\n} from './timestamp'\nimport { CalendarTimestamp, CalendarEvent, CalendarEventParsed } from 'vuetify/types'\n\nexport function parseEvent (\n  input: CalendarEvent,\n  index: number,\n  startProperty: string,\n  endProperty: string,\n  timed = false,\n  category: string | false = false,\n): CalendarEventParsed {\n  const startInput = input[startProperty]\n  const endInput = input[endProperty]\n  const startParsed: CalendarTimestamp = parseTimestamp(startInput, true)\n  const endParsed: CalendarTimestamp = (endInput ? parseTimestamp(endInput, true) : startParsed)\n  const start: CalendarTimestamp = isTimedless(startInput)\n    ? updateHasTime(startParsed, timed)\n    : startParsed\n  const end: CalendarTimestamp = isTimedless(endInput)\n    ? updateHasTime(endParsed, timed)\n    : endParsed\n  const startIdentifier: number = getDayIdentifier(start)\n  const startTimestampIdentifier: number = getTimestampIdentifier(start)\n  const endIdentifier: number = getDayIdentifier(end)\n  const endOffset: number = start.hasTime ? 0 : 2359\n  const endTimestampIdentifier: number = getTimestampIdentifier(end) + endOffset\n  const allDay = !start.hasTime\n\n  return { input, start, startIdentifier, startTimestampIdentifier, end, endIdentifier, endTimestampIdentifier, allDay, index, category }\n}\n\nexport function isEventOn (event: CalendarEventParsed, dayIdentifier: number): boolean {\n  return dayIdentifier >= event.startIdentifier && dayIdentifier <= event.endIdentifier\n}\n\nexport function isEventHiddenOn (event: CalendarEventParsed, day: CalendarTimestamp): boolean {\n  return event.end.time === '00:00' && event.end.date === day.date && event.start.date !== day.date\n}\n\nexport function isEventStart (event: CalendarEventParsed, day: CalendarTimestamp, dayIdentifier: number, firstWeekday: number): boolean {\n  return dayIdentifier === event.startIdentifier || (firstWeekday === day.weekday && isEventOn(event, dayIdentifier))\n}\n\nexport function isEventOverlapping (event: CalendarEventParsed, startIdentifier: number, endIdentifier: number): boolean {\n  return startIdentifier <= event.endIdentifier && endIdentifier >= event.startIdentifier\n}\n"]},"metadata":{},"sourceType":"script"}