{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.find-index.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mixins = _interopRequireDefault(require(\"../../util/mixins\"));\n\nvar _header = _interopRequireDefault(require(\"./mixins/header\"));\n\nvar _helpers = require(\"../../util/helpers\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar _default = (0, _mixins.default)(_header.default).extend({\n  name: 'v-data-table-header-desktop',\n  methods: {\n    genGroupByToggle: function genGroupByToggle(header) {\n      var _this = this;\n\n      return this.$createElement('span', {\n        on: {\n          click: function click(e) {\n            e.stopPropagation();\n\n            _this.$emit('group', header.value);\n          }\n        }\n      }, ['group']);\n    },\n    getAria: function getAria(beingSorted, isDesc) {\n      var _this2 = this;\n\n      var $t = function $t(key) {\n        return _this2.$vuetify.lang.t(\"$vuetify.dataTable.ariaLabel.\".concat(key));\n      };\n\n      var ariaSort = 'none';\n      var ariaLabel = [$t('sortNone'), $t('activateAscending')];\n\n      if (!beingSorted) {\n        return {\n          ariaSort: ariaSort,\n          ariaLabel: ariaLabel.join(' ')\n        };\n      }\n\n      if (isDesc) {\n        ariaSort = 'descending';\n        ariaLabel = [$t('sortDescending'), $t(this.options.mustSort ? 'activateAscending' : 'activateNone')];\n      } else {\n        ariaSort = 'ascending';\n        ariaLabel = [$t('sortAscending'), $t('activateDescending')];\n      }\n\n      return {\n        ariaSort: ariaSort,\n        ariaLabel: ariaLabel.join(' ')\n      };\n    },\n    genHeader: function genHeader(header) {\n      var _this3 = this;\n\n      var data = {\n        attrs: {\n          role: 'columnheader',\n          scope: 'col',\n          'aria-label': header.text || ''\n        },\n        style: {\n          width: (0, _helpers.convertToUnit)(header.width),\n          minWidth: (0, _helpers.convertToUnit)(header.width)\n        },\n        class: [\"text-\".concat(header.align || 'start')].concat(_toConsumableArray((0, _helpers.wrapInArray)(header.class)), [header.divider && 'v-data-table__divider']),\n        on: {}\n      };\n      var children = [];\n\n      if (header.value === 'data-table-select' && !this.singleSelect) {\n        return this.$createElement('th', data, [this.genSelectAll()]);\n      }\n\n      children.push(this.$scopedSlots.hasOwnProperty(header.value) ? this.$scopedSlots[header.value]({\n        header: header\n      }) : this.$createElement('span', [header.text]));\n\n      if (!this.disableSort && (header.sortable || !header.hasOwnProperty('sortable'))) {\n        data.on.click = function () {\n          return _this3.$emit('sort', header.value);\n        };\n\n        var sortIndex = this.options.sortBy.findIndex(function (k) {\n          return k === header.value;\n        });\n        var beingSorted = sortIndex >= 0;\n        var isDesc = this.options.sortDesc[sortIndex];\n        data.class.push('sortable');\n\n        var _this$getAria = this.getAria(beingSorted, isDesc),\n            ariaLabel = _this$getAria.ariaLabel,\n            ariaSort = _this$getAria.ariaSort;\n\n        data.attrs['aria-label'] += \"\".concat(header.text ? ': ' : '').concat(ariaLabel);\n        data.attrs['aria-sort'] = ariaSort;\n\n        if (beingSorted) {\n          data.class.push('active');\n          data.class.push(isDesc ? 'desc' : 'asc');\n        }\n\n        if (header.align === 'end') children.unshift(this.genSortIcon());else children.push(this.genSortIcon());\n\n        if (this.options.multiSort && beingSorted) {\n          children.push(this.$createElement('span', {\n            class: 'v-data-table-header__sort-badge'\n          }, [String(sortIndex + 1)]));\n        }\n      }\n\n      if (this.showGroupBy && header.groupable !== false) children.push(this.genGroupByToggle(header));\n      return this.$createElement('th', data, children);\n    }\n  },\n  render: function render() {\n    var _this4 = this;\n\n    return this.$createElement('thead', {\n      staticClass: 'v-data-table-header'\n    }, [this.$createElement('tr', this.headers.map(function (header) {\n      return _this4.genHeader(header);\n    }))]);\n  }\n});\n\nexports.default = _default;","map":{"version":3,"mappings":"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","names":["_header","extend","name","methods","genGroupByToggle","header","$createElement","on","click","e","stopPropagation","_this","$emit","value","getAria","beingSorted","isDesc","$t","key","_this2","$vuetify","lang","t","ariaSort","ariaLabel","join","options","mustSort","genHeader","data","attrs","role","scope","text","style","width","minWidth","class","align","divider","children","singleSelect","genSelectAll","push","$scopedSlots","hasOwnProperty","disableSort","sortable","_this3","sortIndex","sortBy","findIndex","k","sortDesc","unshift","genSortIcon","multiSort","String","showGroupBy","groupable","render","staticClass","headers","map","_this4"],"sourceRoot":"","sources":["../../../src/components/VDataTable/VDataTableHeaderDesktop.ts"],"sourcesContent":["// Helpers\nimport { VNode, VNodeData } from 'vue'\nimport mixins from '../../util/mixins'\nimport header from './mixins/header'\nimport { wrapInArray, convertToUnit } from '../../util/helpers'\nimport { DataTableHeader } from 'vuetify/types'\n\nexport default mixins(header).extend({\n  name: 'v-data-table-header-desktop',\n\n  methods: {\n    genGroupByToggle (header: DataTableHeader) {\n      return this.$createElement('span', {\n        on: {\n          click: (e: MouseEvent) => {\n            e.stopPropagation()\n            this.$emit('group', header.value)\n          },\n        },\n      }, ['group'])\n    },\n    getAria (beingSorted: boolean, isDesc: boolean) {\n      const $t = (key: string) => this.$vuetify.lang.t(`$vuetify.dataTable.ariaLabel.${key}`)\n\n      let ariaSort = 'none'\n      let ariaLabel = [\n        $t('sortNone'),\n        $t('activateAscending'),\n      ]\n\n      if (!beingSorted) {\n        return { ariaSort, ariaLabel: ariaLabel.join(' ') }\n      }\n\n      if (isDesc) {\n        ariaSort = 'descending'\n        ariaLabel = [\n          $t('sortDescending'),\n          $t(this.options.mustSort ? 'activateAscending' : 'activateNone'),\n        ]\n      } else {\n        ariaSort = 'ascending'\n        ariaLabel = [\n          $t('sortAscending'),\n          $t('activateDescending'),\n        ]\n      }\n\n      return { ariaSort, ariaLabel: ariaLabel.join(' ') }\n    },\n    genHeader (header: DataTableHeader) {\n      const data: Required<Pick<VNodeData, 'attrs' | 'on' | 'class' | 'style'>> = {\n        attrs: {\n          role: 'columnheader',\n          scope: 'col',\n          'aria-label': header.text || '',\n        },\n        style: {\n          width: convertToUnit(header.width),\n          minWidth: convertToUnit(header.width),\n        },\n        class: [\n          `text-${header.align || 'start'}`,\n          ...wrapInArray(header.class),\n          header.divider && 'v-data-table__divider',\n        ],\n        on: {},\n      }\n      const children = []\n\n      if (header.value === 'data-table-select' && !this.singleSelect) {\n        return this.$createElement('th', data, [this.genSelectAll()])\n      }\n\n      children.push(\n        this.$scopedSlots.hasOwnProperty(header.value)\n          ? this.$scopedSlots[header.value]!({ header })\n          : this.$createElement('span', [header.text])\n      )\n\n      if (!this.disableSort && (header.sortable || !header.hasOwnProperty('sortable'))) {\n        data.on.click = () => this.$emit('sort', header.value)\n\n        const sortIndex = this.options.sortBy.findIndex(k => k === header.value)\n        const beingSorted = sortIndex >= 0\n        const isDesc = this.options.sortDesc[sortIndex]\n\n        data.class.push('sortable')\n\n        const { ariaLabel, ariaSort } = this.getAria(beingSorted, isDesc)\n\n        data.attrs['aria-label'] += `${header.text ? ': ' : ''}${ariaLabel}`\n        data.attrs['aria-sort'] = ariaSort\n\n        if (beingSorted) {\n          data.class.push('active')\n          data.class.push(isDesc ? 'desc' : 'asc')\n        }\n\n        if (header.align === 'end') children.unshift(this.genSortIcon())\n        else children.push(this.genSortIcon())\n\n        if (this.options.multiSort && beingSorted) {\n          children.push(this.$createElement('span', { class: 'v-data-table-header__sort-badge' }, [String(sortIndex + 1)]))\n        }\n      }\n\n      if (this.showGroupBy && header.groupable !== false) children.push(this.genGroupByToggle(header))\n\n      return this.$createElement('th', data, children)\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement('thead', {\n      staticClass: 'v-data-table-header',\n    }, [\n      this.$createElement('tr', this.headers.map(header => this.genHeader(header))),\n    ])\n  },\n})\n"]},"metadata":{},"sourceType":"script"}