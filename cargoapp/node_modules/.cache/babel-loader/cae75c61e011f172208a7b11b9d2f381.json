{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.inject = inject;\nexports.provide = provide;\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _console = require(\"../../util/console\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction generateWarning(child, parent) {\n  return function () {\n    return (0, _console.consoleWarn)(\"The \".concat(child, \" component must be used inside a \").concat(parent));\n  };\n}\n\nfunction inject(namespace, child, parent) {\n  var defaultImpl = child && parent ? {\n    register: generateWarning(child, parent),\n    unregister: generateWarning(child, parent)\n  } : null;\n  return _vue.default.extend({\n    name: 'registrable-inject',\n    inject: _defineProperty({}, namespace, {\n      default: defaultImpl\n    })\n  });\n}\n\nfunction provide(namespace) {\n  var self = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return _vue.default.extend({\n    name: 'registrable-provide',\n    provide: function provide() {\n      return _defineProperty({}, namespace, self ? this : {\n        register: this.register,\n        unregister: this.unregister\n      });\n    }\n  });\n}","map":{"version":3,"mappings":";;;;;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAASA,eAAT,CAA0BC,KAA1B,EAAyCC,MAAzC,EAAuD;EACrD,OAAO;IAAA,OAAM,wCAAmBD,KAAnB,8CAA4DC,MAA5D,EAAN;EAAP;AACD;;AASK,SAAUC,MAAV,CAEHC,SAFG,EAEWH,KAFX,EAE2BC,MAF3B,EAE0C;EAC9C,IAAMG,WAAW,GAAGJ,KAAK,IAAIC,MAAT,GAAkB;IACpCI,QAAQ,EAAEN,eAAe,CAACC,KAAD,EAAQC,MAAR,CADW;IAEpCK,UAAU,EAAEP,eAAe,CAACC,KAAD,EAAQC,MAAR;EAFS,CAAlB,GAGhB,IAHJ;EAKA,OAAOM,aAAIC,MAAJ,CAAW;IAChBC,IAAI,EAAE,oBADU;IAGhBP,MAAM,sBACHC,SADG,EACS;MACXO,OAAO,EAAEN;IADE,CADT;EAHU,CAAX,CAAP;AASD;;AAEK,SAAUO,OAAV,CAAmBR,SAAnB,EAAkD;EAAA,IAAZS,IAAY,uEAAL,KAAK;EACtD,OAAOL,aAAIC,MAAJ,CAAW;IAChBC,IAAI,EAAE,qBADU;IAGhBE,OAHgB,qBAGT;MACL,2BACGR,SADH,EACeS,IAAI,GAAG,IAAH,GAAU;QACzBP,QAAQ,EAAG,KAAaA,QADC;QAEzBC,UAAU,EAAG,KAAaA;MAFD,CAD7B;IAMD;EAVe,CAAX,CAAP;AAYD","names":["generateWarning","child","parent","inject","namespace","defaultImpl","register","unregister","_vue","extend","name","default","provide","self"],"sourceRoot":"","sources":["../../../src/mixins/registrable/index.ts"],"sourcesContent":["import Vue from 'vue'\nimport { VueConstructor } from 'vue/types/vue'\nimport { consoleWarn } from '../../util/console'\n\nfunction generateWarning (child: string, parent: string) {\n  return () => consoleWarn(`The ${child} component must be used inside a ${parent}`)\n}\n\nexport type Registrable<T extends string, C extends VueConstructor | null = null> = VueConstructor<Vue & {\n  [K in T]: C extends VueConstructor ? InstanceType<C> : {\n    register (...props: any[]): void\n    unregister (self: any): void\n  }\n}>\n\nexport function inject<\n  T extends string, C extends VueConstructor | null = null\n> (namespace: T, child?: string, parent?: string): Registrable<T, C> {\n  const defaultImpl = child && parent ? {\n    register: generateWarning(child, parent),\n    unregister: generateWarning(child, parent),\n  } : null\n\n  return Vue.extend({\n    name: 'registrable-inject',\n\n    inject: {\n      [namespace]: {\n        default: defaultImpl,\n      },\n    },\n  })\n}\n\nexport function provide (namespace: string, self = false) {\n  return Vue.extend({\n    name: 'registrable-provide',\n\n    provide (): object {\n      return {\n        [namespace]: self ? this : {\n          register: (this as any).register,\n          unregister: (this as any).unregister,\n        },\n      }\n    },\n  })\n}\n"]},"metadata":{},"sourceType":"script"}