{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"../../../src/components/VDataTable/VEditDialog.sass\");\n\nvar _returnable = _interopRequireDefault(require(\"../../mixins/returnable\"));\n\nvar _themeable = _interopRequireDefault(require(\"../../mixins/themeable\"));\n\nvar _helpers = require(\"../../util/helpers\");\n\nvar _VBtn = _interopRequireDefault(require(\"../VBtn\"));\n\nvar _VMenu = _interopRequireDefault(require(\"../VMenu\"));\n\nvar _mixins = _interopRequireDefault(require(\"../../util/mixins\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Styles\n// Mixins\n// Utils\n// Component\n\n/* @vue/component */\n\n\nvar _default = (0, _mixins.default)(_returnable.default, _themeable.default).extend({\n  name: 'v-edit-dialog',\n  props: {\n    cancelText: {\n      default: 'Cancel'\n    },\n    large: Boolean,\n    eager: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save'\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition'\n    }\n  },\n  data: function data() {\n    return {\n      isActive: false\n    };\n  },\n  watch: {\n    isActive: function isActive(val) {\n      if (val) {\n        this.$emit('open');\n        setTimeout(this.focus, 50); // Give DOM time to paint\n      } else {\n        this.$emit('close');\n      }\n    }\n  },\n  methods: {\n    cancel: function cancel() {\n      this.isActive = false;\n      this.$emit('cancel');\n    },\n    focus: function focus() {\n      var input = this.$refs.content.querySelector('input');\n      input && input.focus();\n    },\n    genButton: function genButton(fn, text) {\n      return this.$createElement(_VBtn.default, {\n        props: {\n          text: true,\n          color: 'primary',\n          light: true\n        },\n        on: {\n          click: fn\n        }\n      }, text);\n    },\n    genActions: function genActions() {\n      var _this = this;\n\n      return this.$createElement('div', {\n        class: 'v-small-dialog__actions'\n      }, [this.genButton(this.cancel, this.cancelText), this.genButton(function () {\n        _this.save(_this.returnValue);\n\n        _this.$emit('save');\n      }, this.saveText)]);\n    },\n    genContent: function genContent() {\n      var _this2 = this;\n\n      return this.$createElement('div', {\n        staticClass: 'v-small-dialog__content',\n        on: {\n          keydown: function keydown(e) {\n            e.keyCode === _helpers.keyCodes.esc && _this2.cancel();\n\n            if (e.keyCode === _helpers.keyCodes.enter) {\n              _this2.save(_this2.returnValue);\n\n              _this2.$emit('save');\n            }\n          }\n        },\n        ref: 'content'\n      }, [this.$slots.input]);\n    }\n  },\n  render: function render(h) {\n    var _this3 = this;\n\n    return h(_VMenu.default, {\n      staticClass: 'v-small-dialog',\n      class: this.themeClasses,\n      props: {\n        contentClass: 'v-small-dialog__menu-content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        eager: this.eager,\n        light: this.light,\n        dark: this.dark\n      },\n      on: {\n        input: function input(val) {\n          return _this3.isActive = val;\n        }\n      },\n      scopedSlots: {\n        activator: function activator(_ref) {\n          var on = _ref.on;\n          return h('div', {\n            staticClass: 'v-small-dialog__activator',\n            on: on\n          }, [h('span', {\n            staticClass: 'v-small-dialog__activator__content'\n          }, _this3.$slots.default)]);\n        }\n      }\n    }, [this.genContent(), this.large ? this.genActions() : null]);\n  }\n});\n\nexports.default = _default;","map":{"version":3,"mappings":";;;;;;;AACAA;;AAGA;;AACA;;AAGA;;AAGA;;AACA;;AAIA;;;;;;EAhBA;AAGA;AAIA;AAGA;;AAQA;;;eACe,qBAAOC,mBAAP,EAAmBC,kBAAnB,EAA8BC,MAA9B,CAAqC;EAClDC,IAAI,EAAE,eAD4C;EAGlDC,KAAK,EAAE;IACLC,UAAU,EAAE;MACVC,OAAO,EAAE;IADC,CADP;IAILC,KAAK,EAAEC,OAJF;IAKLC,KAAK,EAAED,OALF;IAMLE,UAAU,EAAEF,OANP;IAOLG,QAAQ,EAAE;MACRL,OAAO,EAAE;IADD,CAPL;IAULM,UAAU,EAAE;MACVC,IAAI,EAAEC,MADI;MAEVR,OAAO,EAAE;IAFC;EAVP,CAH2C;EAmBlDS,IAnBkD,kBAmB9C;IACF,OAAO;MACLC,QAAQ,EAAE;IADL,CAAP;EApBgD;EAyBlDC,KAAK,EAAE;IACLD,QADK,oBACKE,GADL,EACQ;MACX,IAAIA,GAAJ,EAAS;QACP,KAAKC,KAAL,CAAW,MAAX;QACAC,UAAU,CAAC,KAAKC,KAAN,EAAa,EAAb,CAAV,CAFO,CAEoB;MAF7B,OAGO;QACL,KAAKF,KAAL,CAAW,OAAX;MACD;IACF;EARI,CAzB2C;EAoClDG,OAAO,EAAE;IACPC,MADO,oBACD;MACJ,KAAKP,QAAL,GAAgB,KAAhB;MACA,KAAKG,KAAL,CAAW,QAAX;IAHK;IAKPE,KALO,mBAKF;MACH,IAAMG,KAAK,GAAI,KAAKC,KAAL,CAAWC,OAAX,CAA+BC,aAA/B,CAA6C,OAA7C,CAAf;MACAH,KAAK,IAAIA,KAAK,CAACH,KAAN,EAAT;IAPK;IASPO,SATO,qBASIC,EATJ,EASkBC,IATlB,EASqC;MAC1C,OAAO,KAAKC,cAAL,CAAoBC,aAApB,EAA0B;QAC/B5B,KAAK,EAAE;UACL0B,IAAI,EAAE,IADD;UAELG,KAAK,EAAE,SAFF;UAGLC,KAAK,EAAE;QAHF,CADwB;QAM/BC,EAAE,EAAE;UAAEC,KAAK,EAAEP;QAAT;MAN2B,CAA1B,EAOJC,IAPI,CAAP;IAVK;IAmBPO,UAnBO,wBAmBG;MAAA;;MACR,OAAO,KAAKN,cAAL,CAAoB,KAApB,EAA2B;QAChCO,KAAK,EAAE;MADyB,CAA3B,EAEJ,CACD,KAAKV,SAAL,CAAe,KAAKL,MAApB,EAA4B,KAAKlB,UAAjC,CADC,EAED,KAAKuB,SAAL,CAAe,YAAK;QAClBW,KAAI,CAACC,IAAL,CAAUD,KAAI,CAACE,WAAf;;QACAF,KAAI,CAACpB,KAAL,CAAW,MAAX;MAFF,GAGG,KAAKR,QAHR,CAFC,CAFI,CAAP;IApBK;IA8BP+B,UA9BO,wBA8BG;MAAA;;MACR,OAAO,KAAKX,cAAL,CAAoB,KAApB,EAA2B;QAChCY,WAAW,EAAE,yBADmB;QAEhCR,EAAE,EAAE;UACFS,OAAO,EAAE,iBAACC,CAAD,EAAqB;YAC5BA,CAAC,CAACC,OAAF,KAAcC,kBAASC,GAAvB,IAA8BC,MAAI,CAAC1B,MAAL,EAA9B;;YACA,IAAIsB,CAAC,CAACC,OAAF,KAAcC,kBAASG,KAA3B,EAAkC;cAChCD,MAAI,CAACT,IAAL,CAAUS,MAAI,CAACR,WAAf;;cACAQ,MAAI,CAAC9B,KAAL,CAAW,MAAX;YACD;UACF;QAPC,CAF4B;QAWhCgC,GAAG,EAAE;MAX2B,CAA3B,EAYJ,CAAC,KAAKC,MAAL,CAAY5B,KAAb,CAZI,CAAP;IAaD;EA5CM,CApCyC;EAmFlD6B,MAnFkD,kBAmF1CC,CAnF0C,EAmFzC;IAAA;;IACP,OAAOA,CAAC,CAACC,cAAD,EAAQ;MACdZ,WAAW,EAAE,gBADC;MAEdL,KAAK,EAAE,KAAKkB,YAFE;MAGdpD,KAAK,EAAE;QACLqD,YAAY,EAAE,8BADT;QAEL7C,UAAU,EAAE,KAAKA,UAFZ;QAGL8C,MAAM,EAAE,WAHH;QAILC,KAAK,EAAE,IAJF;QAKLC,KAAK,EAAE,KAAK5C,QALP;QAML6C,YAAY,EAAE,CAAC,KAAKnD,UANf;QAOLoD,mBAAmB,EAAE,KAPhB;QAQLrD,KAAK,EAAE,KAAKA,KARP;QASLyB,KAAK,EAAE,KAAKA,KATP;QAUL6B,IAAI,EAAE,KAAKA;MAVN,CAHO;MAed5B,EAAE,EAAE;QACFX,KAAK,EAAE,eAACN,GAAD;UAAA,OAAmB8C,MAAI,CAAChD,QAAL,GAAgBE,GAAnC;QAAA;MADL,CAfU;MAkBd+C,WAAW,EAAE;QACXC,SAAS,EAAE,yBAAW;UAAA,IAAR/B,EAAQ,QAARA,EAAQ;UACpB,OAAOmB,CAAC,CAAC,KAAD,EAAQ;YACdX,WAAW,EAAE,2BADC;YAEdR,EAAE,EAAFA;UAFc,CAAR,EAGL,CACDmB,CAAC,CAAC,MAAD,EAAS;YACRX,WAAW,EAAE;UADL,CAAT,EAEEqB,MAAI,CAACZ,MAAL,CAAY9C,OAFd,CADA,CAHK,CAAR;QAQD;MAVU;IAlBC,CAAR,EA8BL,CACD,KAAKoC,UAAL,EADC,EAED,KAAKnC,KAAL,GAAa,KAAK8B,UAAL,EAAb,GAAiC,IAFhC,CA9BK,CAAR;EAkCD;AAtHiD,CAArC","names":["require","_returnable","_themeable","extend","name","props","cancelText","default","large","Boolean","eager","persistent","saveText","transition","type","String","data","isActive","watch","val","$emit","setTimeout","focus","methods","cancel","input","$refs","content","querySelector","genButton","fn","text","$createElement","_VBtn","color","light","on","click","genActions","class","_this","save","returnValue","genContent","staticClass","keydown","e","keyCode","_helpers","esc","_this2","enter","ref","$slots","render","h","_VMenu","themeClasses","contentClass","origin","right","value","closeOnClick","closeOnContentClick","dark","_this3","scopedSlots","activator"],"sourceRoot":"","sources":["../../../src/components/VDataTable/VEditDialog.ts"],"sourcesContent":["// Styles\nimport './VEditDialog.sass'\n\n// Mixins\nimport Returnable from '../../mixins/returnable'\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Component\nimport VBtn from '../VBtn'\nimport VMenu from '../VMenu'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Returnable, Themeable).extend({\n  name: 'v-edit-dialog',\n\n  props: {\n    cancelText: {\n      default: 'Cancel',\n    },\n    large: Boolean,\n    eager: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save',\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition',\n    },\n  },\n\n  data () {\n    return {\n      isActive: false,\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.$emit('open')\n        setTimeout(this.focus, 50) // Give DOM time to paint\n      } else {\n        this.$emit('close')\n      }\n    },\n  },\n\n  methods: {\n    cancel () {\n      this.isActive = false\n      this.$emit('cancel')\n    },\n    focus () {\n      const input = (this.$refs.content as Element).querySelector('input')\n      input && input.focus()\n    },\n    genButton (fn: Function, text: VNodeChildren): VNode {\n      return this.$createElement(VBtn, {\n        props: {\n          text: true,\n          color: 'primary',\n          light: true,\n        },\n        on: { click: fn },\n      }, text)\n    },\n    genActions (): VNode {\n      return this.$createElement('div', {\n        class: 'v-small-dialog__actions',\n      }, [\n        this.genButton(this.cancel, this.cancelText),\n        this.genButton(() => {\n          this.save(this.returnValue)\n          this.$emit('save')\n        }, this.saveText),\n      ])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-small-dialog__content',\n        on: {\n          keydown: (e: KeyboardEvent) => {\n            e.keyCode === keyCodes.esc && this.cancel()\n            if (e.keyCode === keyCodes.enter) {\n              this.save(this.returnValue)\n              this.$emit('save')\n            }\n          },\n        },\n        ref: 'content',\n      }, [this.$slots.input])\n    },\n  },\n\n  render (h): VNode {\n    return h(VMenu, {\n      staticClass: 'v-small-dialog',\n      class: this.themeClasses,\n      props: {\n        contentClass: 'v-small-dialog__menu-content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        eager: this.eager,\n        light: this.light,\n        dark: this.dark,\n      },\n      on: {\n        input: (val: boolean) => (this.isActive = val),\n      },\n      scopedSlots: {\n        activator: ({ on }) => {\n          return h('div', {\n            staticClass: 'v-small-dialog__activator',\n            on,\n          }, [\n            h('span', {\n              staticClass: 'v-small-dialog__activator__content',\n            }, this.$slots.default),\n          ])\n        },\n      },\n    }, [\n      this.genContent(),\n      this.large ? this.genActions() : null,\n    ])\n  },\n})\n"]},"metadata":{},"sourceType":"script"}